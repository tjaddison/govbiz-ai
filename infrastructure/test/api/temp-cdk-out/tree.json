{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.211.0"},"children":{"TestInfrastructureStack":{"id":"TestInfrastructureStack","path":"TestInfrastructureStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"govbizai-encryption-key":{"id":"govbizai-encryption-key","path":"TestInfrastructureStack/govbizai-encryption-key","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-encryption-key/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"KMS key for GovBizAI system encryption","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"},{"Action":["kms:Encrypt","kms:Decrypt","kms:ReEncrypt*","kms:GenerateDataKey*","kms:DescribeKey"],"Condition":{"ArnEquals":{"kms:EncryptionContext:aws:logs:arn":{"Fn::Join":["",["arn:aws:logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/cloudtrail/govbizai"]]}}},"Effect":"Allow","Principal":{"Service":{"Fn::Join":["",["logs.",{"Ref":"AWS::Region"},".amazonaws.com"]]}},"Resource":"*"},{"Action":["kms:Encrypt","kms:Decrypt","kms:ReEncrypt*","kms:GenerateDataKey*","kms:DescribeKey"],"Effect":"Allow","Principal":{"Service":"cloudtrail.amazonaws.com"},"Resource":"*"}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"Alias":{"id":"Alias","path":"TestInfrastructureStack/govbizai-encryption-key/Alias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-encryption-key/Alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/govbizai-encryption-key","targetKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}}}}}}}},"govbizai-vpc":{"id":"govbizai-vpc","path":"TestInfrastructureStack/govbizai-vpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-vpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"govbizai-vpc"},{"key":"Project","value":"govbizai"}]}}},"govbizai-public-subnetSubnet1":{"id":"govbizai-public-subnetSubnet1","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"govbizai-public-subnet"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"Acl":{"id":"Acl","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet1RouteTableB90BAA78"},"subnetId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet1Subnet7171BD1B"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"govbizaivpcIGWB32B4CD2"},"routeTableId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet1RouteTableB90BAA78"}}}},"EIP":{"id":"EIP","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1"},{"key":"Project","value":"govbizai"}]}}},"NATGateway":{"id":"NATGateway","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["govbizaivpcgovbizaipublicsubnetSubnet1EIP54986573","AllocationId"]},"subnetId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet1Subnet7171BD1B"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet1"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-public-subnetSubnet2":{"id":"govbizai-public-subnetSubnet2","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"govbizai-public-subnet"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"Acl":{"id":"Acl","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet2RouteTable6CB4905C"},"subnetId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet2SubnetAD54449B"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"govbizaivpcIGWB32B4CD2"},"routeTableId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet2RouteTable6CB4905C"}}}},"EIP":{"id":"EIP","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2"},{"key":"Project","value":"govbizai"}]}}},"NATGateway":{"id":"NATGateway","path":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["govbizaivpcgovbizaipublicsubnetSubnet2EIP1F41A622","AllocationId"]},"subnetId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet2SubnetAD54449B"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-public-subnetSubnet2"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-private-subnetSubnet1":{"id":"govbizai-private-subnetSubnet1","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"govbizai-private-subnet"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"Acl":{"id":"Acl","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1RouteTableBD20F7E4"},"subnetId":{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet1NATGatewayBC304E83"},"routeTableId":{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1RouteTableBD20F7E4"}}}}}},"govbizai-private-subnetSubnet2":{"id":"govbizai-private-subnetSubnet2","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"govbizai-private-subnet"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"Acl":{"id":"Acl","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2RouteTable619D4450"},"subnetId":{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"TestInfrastructureStack/govbizai-vpc/govbizai-private-subnetSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet2NATGatewayA4B62B2D"},"routeTableId":{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2RouteTable619D4450"}}}}}},"govbizai-isolated-subnetSubnet1":{"id":"govbizai-isolated-subnetSubnet1","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.4.0/28","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"govbizai-isolated-subnet"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet1"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"Acl":{"id":"Acl","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet1"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet1RouteTable31F6002D"},"subnetId":{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet1Subnet781E2D84"}}}}}},"govbizai-isolated-subnetSubnet2":{"id":"govbizai-isolated-subnetSubnet2","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.4.16/28","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"govbizai-isolated-subnet"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet2"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"Acl":{"id":"Acl","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet2"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"TestInfrastructureStack/govbizai-vpc/govbizai-isolated-subnetSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet2RouteTableFA721D3A"},"subnetId":{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet2Subnet5F032299"}}}}}},"IGW":{"id":"IGW","path":"TestInfrastructureStack/govbizai-vpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"govbizai-vpc"},{"key":"Project","value":"govbizai"}]}}},"VPCGW":{"id":"VPCGW","path":"TestInfrastructureStack/govbizai-vpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"govbizaivpcIGWB32B4CD2"},"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}},"s3":{"id":"s3","path":"TestInfrastructureStack/govbizai-vpc/s3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-vpc/s3/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"govbizai-vpc"},{"key":"Project","value":"govbizai"}],"routeTableIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1RouteTableBD20F7E4"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2RouteTable619D4450"},{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet1RouteTableB90BAA78"},{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet2RouteTable6CB4905C"},{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet1RouteTable31F6002D"},{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet2RouteTableFA721D3A"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".s3"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"dynamodb":{"id":"dynamodb","path":"TestInfrastructureStack/govbizai-vpc/dynamodb","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-vpc/dynamodb/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"govbizai-vpc"},{"key":"Project","value":"govbizai"}],"routeTableIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1RouteTableBD20F7E4"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2RouteTable619D4450"},{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet1RouteTableB90BAA78"},{"Ref":"govbizaivpcgovbizaipublicsubnetSubnet2RouteTable6CB4905C"},{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet1RouteTable31F6002D"},{"Ref":"govbizaivpcgovbizaiisolatedsubnetSubnet2RouteTableFA721D3A"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".dynamodb"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}}}},"govbizai-vpc-endpoint-sg":{"id":"govbizai-vpc-endpoint-sg","path":"TestInfrastructureStack/govbizai-vpc-endpoint-sg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-vpc-endpoint-sg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for VPC endpoints","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["govbizaivpcC82B5B04","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS from VPC"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-bedrock-endpoint":{"id":"govbizai-bedrock-endpoint","path":"TestInfrastructureStack/govbizai-bedrock-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-bedrock-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".bedrock"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-bedrock-runtime-endpoint":{"id":"govbizai-bedrock-runtime-endpoint","path":"TestInfrastructureStack/govbizai-bedrock-runtime-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-bedrock-runtime-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".bedrock-runtime"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-lambda-endpoint":{"id":"govbizai-lambda-endpoint","path":"TestInfrastructureStack/govbizai-lambda-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-lambda-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".lambda"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-sqs-endpoint":{"id":"govbizai-sqs-endpoint","path":"TestInfrastructureStack/govbizai-sqs-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-sqs-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".sqs"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-sns-endpoint":{"id":"govbizai-sns-endpoint","path":"TestInfrastructureStack/govbizai-sns-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-sns-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".sns"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-cloudwatch-logs-endpoint":{"id":"govbizai-cloudwatch-logs-endpoint","path":"TestInfrastructureStack/govbizai-cloudwatch-logs-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cloudwatch-logs-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".logs"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-step-functions-endpoint":{"id":"govbizai-step-functions-endpoint","path":"TestInfrastructureStack/govbizai-step-functions-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-step-functions-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".states"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-eventbridge-endpoint":{"id":"govbizai-eventbridge-endpoint","path":"TestInfrastructureStack/govbizai-eventbridge-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-eventbridge-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".events"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-textract-endpoint":{"id":"govbizai-textract-endpoint","path":"TestInfrastructureStack/govbizai-textract-endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-textract-endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["govbizaivpcendpointsgBFFB67C4","GroupId"]}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".textract"]]},"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"govbizai-raw-documents":{"id":"govbizai-raw-documents","path":"TestInfrastructureStack/govbizai-raw-documents","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-raw-documents/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}}}]},"bucketName":{"Fn::Join":["",["govbizai-raw-documents-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"lifecycleConfiguration":{"rules":[{"id":"govbizai-raw-documents-lifecycle","status":"Enabled","transitions":[{"storageClass":"STANDARD_IA","transitionInDays":30},{"storageClass":"GLACIER_IR","transitionInDays":90}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"TestInfrastructureStack/govbizai-raw-documents/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-raw-documents/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"govbizairawdocumentsC6263907"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"TestInfrastructureStack/govbizai-raw-documents/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"TestInfrastructureStack/govbizai-raw-documents/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"TestInfrastructureStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.211.0"},"children":{"Staging":{"id":"Staging","path":"TestInfrastructureStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"Role":{"id":"Role","path":"TestInfrastructureStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}},"Handler":{"id":"Handler","path":"TestInfrastructureStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"govbizai-processed-documents":{"id":"govbizai-processed-documents","path":"TestInfrastructureStack/govbizai-processed-documents","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processed-documents/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}}}]},"bucketName":{"Fn::Join":["",["govbizai-processed-documents-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"lifecycleConfiguration":{"rules":[{"id":"govbizai-processed-documents-lifecycle","status":"Enabled","transitions":[{"storageClass":"STANDARD_IA","transitionInDays":30},{"storageClass":"GLACIER_IR","transitionInDays":90}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"TestInfrastructureStack/govbizai-processed-documents/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processed-documents/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"TestInfrastructureStack/govbizai-processed-documents/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"TestInfrastructureStack/govbizai-processed-documents/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"govbizai-embeddings":{"id":"govbizai-embeddings","path":"TestInfrastructureStack/govbizai-embeddings","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-embeddings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}}}]},"bucketName":{"Fn::Join":["",["govbizai-embeddings-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"lifecycleConfiguration":{"rules":[{"id":"govbizai-embeddings-lifecycle","status":"Enabled","transitions":[{"storageClass":"STANDARD_IA","transitionInDays":60}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"TestInfrastructureStack/govbizai-embeddings/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-embeddings/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"govbizaiembeddings9C1E2D0C"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"TestInfrastructureStack/govbizai-embeddings/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"TestInfrastructureStack/govbizai-embeddings/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"govbizai-temp-processing":{"id":"govbizai-temp-processing","path":"TestInfrastructureStack/govbizai-temp-processing","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-temp-processing/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}}}]},"bucketName":{"Fn::Join":["",["govbizai-temp-processing-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"lifecycleConfiguration":{"rules":[{"expirationInDays":7,"id":"govbizai-temp-processing-lifecycle","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"TestInfrastructureStack/govbizai-temp-processing/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-temp-processing/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"govbizaitempprocessing8660E60C"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"TestInfrastructureStack/govbizai-temp-processing/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"TestInfrastructureStack/govbizai-temp-processing/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"govbizai-archive":{"id":"govbizai-archive","path":"TestInfrastructureStack/govbizai-archive","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-archive/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}}}]},"bucketName":{"Fn::Join":["",["govbizai-archive-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"lifecycleConfiguration":{"rules":[{"id":"govbizai-archive-lifecycle","status":"Enabled","transitions":[{"storageClass":"GLACIER_IR","transitionInDays":1},{"storageClass":"DEEP_ARCHIVE","transitionInDays":180}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"TestInfrastructureStack/govbizai-archive/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-archive/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"govbizaiarchive5B5E91E9"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["govbizaiarchive5B5E91E9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiarchive5B5E91E9","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["govbizaiarchive5B5E91E9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiarchive5B5E91E9","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"TestInfrastructureStack/govbizai-archive/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"TestInfrastructureStack/govbizai-archive/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"govbizai-opportunities":{"id":"govbizai-opportunities","path":"TestInfrastructureStack/govbizai-opportunities","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-opportunities/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"notice_id","attributeType":"S"},{"attributeName":"posted_date","attributeType":"S"},{"attributeName":"archive_date","attributeType":"S"},{"attributeName":"naics_code","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"archive-date-index","keySchema":[{"attributeName":"archive_date","keyType":"HASH"},{"attributeName":"posted_date","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"naics-code-index","keySchema":[{"attributeName":"naics_code","keyType":"HASH"},{"attributeName":"posted_date","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"notice_id","keyType":"HASH"},{"attributeName":"posted_date","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-opportunities","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-opportunities/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-companies":{"id":"govbizai-companies","path":"TestInfrastructureStack/govbizai-companies","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-companies/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"company_id","attributeType":"S"},{"attributeName":"tenant_id","attributeType":"S"},{"attributeName":"company_name","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"tenant-id-index","keySchema":[{"attributeName":"tenant_id","keyType":"HASH"},{"attributeName":"company_name","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"company_id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-companies","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-companies/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-matches":{"id":"govbizai-matches","path":"TestInfrastructureStack/govbizai-matches","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matches/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"company_id","attributeType":"S"},{"attributeName":"opportunity_id","attributeType":"S"},{"attributeName":"total_score","attributeType":"N"},{"attributeName":"confidence_level","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"opportunity-id-index","keySchema":[{"attributeName":"opportunity_id","keyType":"HASH"},{"attributeName":"total_score","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"confidence-level-index","keySchema":[{"attributeName":"confidence_level","keyType":"HASH"},{"attributeName":"total_score","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"company_id","keyType":"HASH"},{"attributeName":"opportunity_id","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-matches","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-matches/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-user-profiles":{"id":"govbizai-user-profiles","path":"TestInfrastructureStack/govbizai-user-profiles","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-user-profiles/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"user_id","attributeType":"S"},{"attributeName":"tenant_id","attributeType":"S"},{"attributeName":"email","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"tenant-id-index","keySchema":[{"attributeName":"tenant_id","keyType":"HASH"},{"attributeName":"email","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"user_id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-user-profiles","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-user-profiles/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-audit-log":{"id":"govbizai-audit-log","path":"TestInfrastructureStack/govbizai-audit-log","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-audit-log/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenant_id","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"},{"attributeName":"action_type","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"action-type-index","keySchema":[{"attributeName":"action_type","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"tenant_id","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-audit-log","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-audit-log/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-feedback":{"id":"govbizai-feedback","path":"TestInfrastructureStack/govbizai-feedback","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-feedback/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"match_id","attributeType":"S"},{"attributeName":"feedback_timestamp","attributeType":"S"},{"attributeName":"company_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"company-id-index","keySchema":[{"attributeName":"company_id","keyType":"HASH"},{"attributeName":"feedback_timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"match_id","keyType":"HASH"},{"attributeName":"feedback_timestamp","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-feedback","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-feedback/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-tenants":{"id":"govbizai-tenants","path":"TestInfrastructureStack/govbizai-tenants","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-tenants/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenant_id","attributeType":"S"},{"attributeName":"tenant_name","attributeType":"S"},{"attributeName":"subscription_tier","attributeType":"S"},{"attributeName":"created_at","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"tenant-name-index","keySchema":[{"attributeName":"tenant_name","keyType":"HASH"}],"projection":{"projectionType":"ALL"}},{"indexName":"subscription-tier-index","keySchema":[{"attributeName":"subscription_tier","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"tenant_id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-tenants","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-tenants/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-cloudtrail-log-group":{"id":"govbizai-cloudtrail-log-group","path":"TestInfrastructureStack/govbizai-cloudtrail-log-group","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cloudtrail-log-group/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/cloudtrail/govbizai","retentionInDays":365,"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-cloudtrail":{"id":"govbizai-cloudtrail","path":"TestInfrastructureStack/govbizai-cloudtrail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudtrail.Trail","version":"2.211.0","metadata":[]},"children":{"S3":{"id":"S3","path":"TestInfrastructureStack/govbizai-cloudtrail/S3","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cloudtrail/S3/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"Policy":{"id":"Policy","path":"TestInfrastructureStack/govbizai-cloudtrail/S3/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cloudtrail/S3/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"govbizaicloudtrailS3D3F47E33"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["govbizaicloudtrailS3D3F47E33","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicloudtrailS3D3F47E33","Arn"]},"/*"]]}]},{"Action":"s3:GetBucketAcl","Effect":"Allow","Principal":{"Service":"cloudtrail.amazonaws.com"},"Resource":{"Fn::GetAtt":["govbizaicloudtrailS3D3F47E33","Arn"]}},{"Action":"s3:PutObject","Condition":{"StringEquals":{"s3:x-amz-acl":"bucket-owner-full-control"}},"Effect":"Allow","Principal":{"Service":"cloudtrail.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicloudtrailS3D3F47E33","Arn"]},"/AWSLogs/",{"Ref":"AWS::AccountId"},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"LogsRole":{"id":"LogsRole","path":"TestInfrastructureStack/govbizai-cloudtrail/LogsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportLogsRole":{"id":"ImportLogsRole","path":"TestInfrastructureStack/govbizai-cloudtrail/LogsRole/ImportLogsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cloudtrail/LogsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"cloudtrail.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-cloudtrail/LogsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cloudtrail/LogsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutLogEvents","logs:CreateLogStream"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaicloudtrailloggroup162648EF","Arn"]}}],"Version":"2012-10-17"},"policyName":"govbizaicloudtrailLogsRoleDefaultPolicy68739B5B","roles":[{"Ref":"govbizaicloudtrailLogsRoleF1686EF2"}]}}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cloudtrail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudtrail.CfnTrail","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudTrail::Trail","aws:cdk:cloudformation:props":{"cloudWatchLogsLogGroupArn":{"Fn::GetAtt":["govbizaicloudtrailloggroup162648EF","Arn"]},"cloudWatchLogsRoleArn":{"Fn::GetAtt":["govbizaicloudtrailLogsRoleF1686EF2","Arn"]},"enableLogFileValidation":true,"eventSelectors":[],"includeGlobalServiceEvents":true,"isLogging":true,"isMultiRegionTrail":true,"s3BucketName":{"Ref":"govbizaicloudtrailS3D3F47E33"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"trailName":"govbizai-cloudtrail"}}}}},"govbizai-user-pool":{"id":"govbizai-user-pool","path":"TestInfrastructureStack/govbizai-user-pool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.211.0","metadata":[]},"children":{"smsRole":{"id":"smsRole","path":"TestInfrastructureStack/govbizai-user-pool/smsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportsmsRole":{"id":"ImportsmsRole","path":"TestInfrastructureStack/govbizai-user-pool/smsRole/ImportsmsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-user-pool/smsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"sts:ExternalId":"TestInfrastructureStackgovbizaiuserpoolAEB7EFD0"}},"Effect":"Allow","Principal":{"Service":"cognito-idp.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"sns-publish","policyDocument":{"Statement":[{"Action":"sns:Publish","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-user-pool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"Thank you for signing up to GovBizAI! Your verification code is {####}","emailVerificationSubject":"Welcome to GovBizAI - Verify your email","enabledMfas":["SMS_MFA","SOFTWARE_TOKEN_MFA"],"lambdaConfig":{"postConfirmation":{"Fn::GetAtt":["govbizaipostconfirmation6D22F3BD","Arn"]},"preSignUp":{"Fn::GetAtt":["govbizaipresignup74411E2A","Arn"]}},"mfaConfiguration":"OPTIONAL","policies":{"passwordPolicy":{"temporaryPasswordValidityDays":7,"minimumLength":12,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"schema":[{"name":"email","mutable":true,"required":true},{"name":"given_name","mutable":true,"required":true},{"name":"family_name","mutable":true,"required":true},{"name":"phone_number","mutable":true,"required":false},{"name":"company_id","attributeDataType":"String","mutable":true},{"name":"tenant_id","attributeDataType":"String","mutable":true},{"name":"role","attributeDataType":"String","mutable":true},{"name":"subscription_tier","attributeDataType":"String","mutable":true}],"smsConfiguration":{"externalId":"TestInfrastructureStackgovbizaiuserpoolAEB7EFD0","snsCallerArn":{"Fn::GetAtt":["govbizaiuserpoolsmsRoleF26FED2D","Arn"]}},"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"Environment":"dev","ManagedBy":"CDK","Project":"govbizai"},"usernameAttributes":["email"],"userPoolName":"govbizai-user-pool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"Thank you for signing up to GovBizAI! Your verification code is {####}","emailSubject":"Welcome to GovBizAI - Verify your email","smsMessage":"The verification code to your new account is {####}"}}}},"PostConfirmationCognito":{"id":"PostConfirmationCognito","path":"TestInfrastructureStack/govbizai-user-pool/PostConfirmationCognito","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaipostconfirmation6D22F3BD","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::GetAtt":["govbizaiuserpool36C7E10A","Arn"]}}}},"PreSignUpCognito":{"id":"PreSignUpCognito","path":"TestInfrastructureStack/govbizai-user-pool/PreSignUpCognito","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaipresignup74411E2A","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::GetAtt":["govbizaiuserpool36C7E10A","Arn"]}}}}}},"govbizai-user-pool-domain":{"id":"govbizai-user-pool-domain","path":"TestInfrastructureStack/govbizai-user-pool-domain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-user-pool-domain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":{"Fn::Join":["",["govbizai-",{"Ref":"AWS::AccountId"}]]},"userPoolId":{"Ref":"govbizaiuserpool36C7E10A"}}}}}},"govbizai-user-pool-client":{"id":"govbizai-user-pool-client","path":"TestInfrastructureStack/govbizai-user-pool-client","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-user-pool-client/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["openid","email","profile"],"callbackUrLs":["http://localhost:3000/auth/callback","https://app.govbizai.com/auth/callback"],"clientName":"govbizai-web-client","explicitAuthFlows":["ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"logoutUrLs":["http://localhost:3000/auth/logout","https://app.govbizai.com/auth/logout"],"preventUserExistenceErrors":"ENABLED","readAttributes":["custom:company_id","custom:role","custom:subscription_tier","custom:tenant_id","email","family_name","given_name","phone_number"],"refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"govbizaiuserpool36C7E10A"},"writeAttributes":["custom:company_id","custom:role","custom:subscription_tier","custom:tenant_id","email","family_name","given_name","phone_number"]}}}}},"govbizai-identity-pool":{"id":"govbizai-identity-pool","path":"TestInfrastructureStack/govbizai-identity-pool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPool","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPool","aws:cdk:cloudformation:props":{"allowUnauthenticatedIdentities":false,"identityPoolTags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"cognitoIdentityProviders":[{"clientId":{"Ref":"govbizaiuserpoolclientBE0A385B"},"providerName":{"Fn::GetAtt":["govbizaiuserpool36C7E10A","ProviderName"]},"serverSideTokenCheck":true}],"identityPoolName":"govbizai-identity-pool"}}},"govbizai-cognito-authenticated-role":{"id":"govbizai-cognito-authenticated-role","path":"TestInfrastructureStack/govbizai-cognito-authenticated-role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"Importgovbizai-cognito-authenticated-role":{"id":"Importgovbizai-cognito-authenticated-role","path":"TestInfrastructureStack/govbizai-cognito-authenticated-role/Importgovbizai-cognito-authenticated-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-cognito-authenticated-role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"cognito-identity.amazonaws.com:aud":{"Ref":"govbizaiidentitypool"}},"ForAnyValue:StringLike":{"cognito-identity.amazonaws.com:amr":"authenticated"}},"Effect":"Allow","Principal":{"Federated":"cognito-identity.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"govbizai-authenticated-user-policy","policyDocument":{"Statement":[{"Action":["cognito-identity:GetCredentialsForIdentity","cognito-identity:GetId"],"Effect":"Allow","Resource":"*"},{"Action":["s3:GetObject","s3:PutObject","s3:DeleteObject"],"Condition":{"StringEquals":{"s3:x-amz-acl":"bucket-owner-full-control"}},"Effect":"Allow","Resource":[{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/${cognito-identity.amazonaws.com:sub}/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/${cognito-identity.amazonaws.com:sub}/*"]]}]}],"Version":"2012-10-17"}}],"roleName":"govbizai-cognito-authenticated-role","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-identity-pool-role-attachment":{"id":"govbizai-identity-pool-role-attachment","path":"TestInfrastructureStack/govbizai-identity-pool-role-attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPoolRoleAttachment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPoolRoleAttachment","aws:cdk:cloudformation:props":{"identityPoolId":{"Ref":"govbizaiidentitypool"},"roles":{"authenticated":{"Fn::GetAtt":["govbizaicognitoauthenticatedroleA265FB82","Arn"]}}}}},"UserPoolId":{"id":"UserPoolId","path":"TestInfrastructureStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"TestInfrastructureStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"IdentityPoolId":{"id":"IdentityPoolId","path":"TestInfrastructureStack/IdentityPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"UserPoolDomain":{"id":"UserPoolDomain","path":"TestInfrastructureStack/UserPoolDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"govbizai-common-layer":{"id":"govbizai-common-layer","path":"TestInfrastructureStack/govbizai-common-layer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.211.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-common-layer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-common-layer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-common-layer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-common-layer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"8be1d5a6b71c3b436d4f7f75722f70a7b6873dc8d908dd295a5957db83842168.zip"},"description":"Common dependencies for GovBizAI Lambda functions","layerName":"govbizai-common-layer"}}}}},"govbizai-create-tenant":{"id":"govbizai-create-tenant","path":"TestInfrastructureStack/govbizai-create-tenant","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-create-tenant/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-create-tenant/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-create-tenant/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-create-tenant/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-create-tenant/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaicreatetenantServiceRoleDefaultPolicy941F4329","roles":[{"Ref":"govbizaicreatetenantServiceRole89C096AE"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-create-tenant/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-create-tenant/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-create-tenant/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-create-tenant/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-create-tenant/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaicreatetenant72454016","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-create-tenant/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"02c073041d3ab305187c5e988923fe6bb098ad8a9d980e246ebd4744a5b645b4.zip"},"description":"Creates a new tenant with company profile","environment":{"variables":{"TENANTS_TABLE_NAME":{"Ref":"govbizaitenantsA724F50D"},"USER_PROFILES_TABLE_NAME":{"Ref":"govbizaiuserprofiles6B97A1D0"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"}}},"functionName":"govbizai-create-tenant","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicommonlayer61433DB8"}],"memorySize":256,"role":{"Fn::GetAtt":["govbizaicreatetenantServiceRole89C096AE","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaicreatetenantSecurityGroup2C9BFB05","GroupId"]}]}}}}}},"govbizai-update-tenant":{"id":"govbizai-update-tenant","path":"TestInfrastructureStack/govbizai-update-tenant","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-update-tenant/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-update-tenant/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-update-tenant/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-update-tenant/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-update-tenant/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaiupdatetenantServiceRoleDefaultPolicy36C88447","roles":[{"Ref":"govbizaiupdatetenantServiceRoleAE4C6735"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-update-tenant/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-update-tenant/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-update-tenant/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-update-tenant/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-update-tenant/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiupdatetenant98BABD01","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-update-tenant/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"745fae6e15e135b0a5e85947c4dd12c7823f231d3dd2b1974c46dfe205ac4136.zip"},"description":"Updates tenant information and settings","environment":{"variables":{"TENANTS_TABLE_NAME":{"Ref":"govbizaitenantsA724F50D"},"USER_PROFILES_TABLE_NAME":{"Ref":"govbizaiuserprofiles6B97A1D0"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"}}},"functionName":"govbizai-update-tenant","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicommonlayer61433DB8"}],"memorySize":256,"role":{"Fn::GetAtt":["govbizaiupdatetenantServiceRoleAE4C6735","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiupdatetenantSecurityGroup5863571B","GroupId"]}]}}}}}},"govbizai-delete-tenant":{"id":"govbizai-delete-tenant","path":"TestInfrastructureStack/govbizai-delete-tenant","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-delete-tenant/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-delete-tenant/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-delete-tenant/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-delete-tenant/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-delete-tenant/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaideletetenantServiceRoleDefaultPolicy95751350","roles":[{"Ref":"govbizaideletetenantServiceRole900B08B2"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-delete-tenant/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-delete-tenant/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-delete-tenant/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-delete-tenant/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-delete-tenant/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaideletetenant56ED0836","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-delete-tenant/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"417a44f4fb1131b1da4a49b700c6f0789b8a704733d5804a31f3fe547b80190f.zip"},"description":"Deletes tenant and all associated data","environment":{"variables":{"TENANTS_TABLE_NAME":{"Ref":"govbizaitenantsA724F50D"},"USER_PROFILES_TABLE_NAME":{"Ref":"govbizaiuserprofiles6B97A1D0"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"}}},"functionName":"govbizai-delete-tenant","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicommonlayer61433DB8"}],"memorySize":256,"role":{"Fn::GetAtt":["govbizaideletetenantServiceRole900B08B2","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaideletetenantSecurityGroupD58204EE","GroupId"]}]}}}}}},"govbizai-get-tenant":{"id":"govbizai-get-tenant","path":"TestInfrastructureStack/govbizai-get-tenant","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-get-tenant/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-get-tenant/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-get-tenant/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-get-tenant/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-get-tenant/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaigettenantServiceRoleDefaultPolicy262EFEC1","roles":[{"Ref":"govbizaigettenantServiceRole8EDBD948"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-get-tenant/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-get-tenant/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-get-tenant/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-get-tenant/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-get-tenant/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaigettenant45BAB1FB","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-get-tenant/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"03a17d049894b25799d127dcc153ffc4b3200ef4e0ebe405609993a854c7a3ad.zip"},"description":"Retrieves tenant details and configuration","environment":{"variables":{"TENANTS_TABLE_NAME":{"Ref":"govbizaitenantsA724F50D"},"USER_PROFILES_TABLE_NAME":{"Ref":"govbizaiuserprofiles6B97A1D0"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"}}},"functionName":"govbizai-get-tenant","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicommonlayer61433DB8"}],"memorySize":256,"role":{"Fn::GetAtt":["govbizaigettenantServiceRole8EDBD948","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaigettenantSecurityGroup434E3E6C","GroupId"]}]}}}}}},"govbizai-post-confirmation":{"id":"govbizai-post-confirmation","path":"TestInfrastructureStack/govbizai-post-confirmation","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-post-confirmation/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-post-confirmation/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-post-confirmation/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-post-confirmation/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-post-confirmation/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaipostconfirmationServiceRoleDefaultPolicyE2365E57","roles":[{"Ref":"govbizaipostconfirmationServiceRoleA69B8E0C"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-post-confirmation/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-post-confirmation/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-post-confirmation/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-post-confirmation/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"70596166cac956fbb58885bf5c00261a8009f739fb5192593679ea2cf8466c5f.zip"},"description":"Post-confirmation trigger for user registration","environment":{"variables":{"TENANTS_TABLE_NAME":{"Ref":"govbizaitenantsA724F50D"},"USER_PROFILES_TABLE_NAME":{"Ref":"govbizaiuserprofiles6B97A1D0"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"}}},"functionName":"govbizai-post-confirmation","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicommonlayer61433DB8"}],"memorySize":256,"role":{"Fn::GetAtt":["govbizaipostconfirmationServiceRoleA69B8E0C","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30}}}}},"govbizai-pre-sign-up":{"id":"govbizai-pre-sign-up","path":"TestInfrastructureStack/govbizai-pre-sign-up","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-pre-sign-up/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-pre-sign-up/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-pre-sign-up/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-pre-sign-up/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-pre-sign-up/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaipresignupServiceRoleDefaultPolicyEB4ABD44","roles":[{"Ref":"govbizaipresignupServiceRole24DFC433"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-pre-sign-up/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-pre-sign-up/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-pre-sign-up/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-pre-sign-up/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"70c9ecae409b42aa6d645277a4d40c155b20fd2d1d1bb8f3bf3476f32f672155.zip"},"description":"Pre-sign-up trigger for user validation","environment":{"variables":{"TENANTS_TABLE_NAME":{"Ref":"govbizaitenantsA724F50D"},"USER_PROFILES_TABLE_NAME":{"Ref":"govbizaiuserprofiles6B97A1D0"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"}}},"functionName":"govbizai-pre-sign-up","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicommonlayer61433DB8"}],"memorySize":256,"role":{"Fn::GetAtt":["govbizaipresignupServiceRole24DFC433","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30}}}}},"CreateTenantFunctionArn":{"id":"CreateTenantFunctionArn","path":"TestInfrastructureStack/CreateTenantFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"UpdateTenantFunctionArn":{"id":"UpdateTenantFunctionArn","path":"TestInfrastructureStack/UpdateTenantFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DeleteTenantFunctionArn":{"id":"DeleteTenantFunctionArn","path":"TestInfrastructureStack/DeleteTenantFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"GetTenantFunctionArn":{"id":"GetTenantFunctionArn","path":"TestInfrastructureStack/GetTenantFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"govbizai-document-processing-layer":{"id":"govbizai-document-processing-layer","path":"TestInfrastructureStack/govbizai-document-processing-layer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.211.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-document-processing-layer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-document-processing-layer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-document-processing-layer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-processing-layer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"01516f5a047839893043fb7b31d669081901a0f38e06d3319147ac3d1985f90b.zip"},"description":"Document processing dependencies including PyMuPDF, python-docx, openpyxl, etc.","layerName":"govbizai-document-processing-layer"}}}}},"govbizai-text-extraction":{"id":"govbizai-text-extraction","path":"TestInfrastructureStack/govbizai-text-extraction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-text-extraction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-text-extraction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-extraction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-text-extraction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-extraction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["textract:StartDocumentTextDetection","textract:GetDocumentTextDetection","textract:StartDocumentAnalysis","textract:GetDocumentAnalysis","textract:DetectDocumentText","textract:AnalyzeDocument"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaitextextractionServiceRoleDefaultPolicyCC07BCE9","roles":[{"Ref":"govbizaitextextractionServiceRole95CCE328"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-text-extraction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-text-extraction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-text-extraction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-text-extraction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-extraction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaitextextraction62A54F3E","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-extraction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"7928248872ab51b72dcb9e77bbedaf02ea7302408520a5d7bb5e40afa80c80f4.zip"},"description":"Extract text from PDF documents using PyMuPDF with Textract fallback","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"TEXTRACT_ROLE_ARN":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":role/govbizai-lambda-execution-role"]]}}},"functionName":"govbizai-text-extraction","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaidocumentprocessinglayer39856FE2"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaitextextractionServiceRole95CCE328","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaitextextractionSecurityGroup512FB609","GroupId"]}]}}}}}},"govbizai-textract-processor":{"id":"govbizai-textract-processor","path":"TestInfrastructureStack/govbizai-textract-processor","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-textract-processor/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-textract-processor/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-textract-processor/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-textract-processor/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-textract-processor/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["textract:StartDocumentTextDetection","textract:GetDocumentTextDetection","textract:StartDocumentAnalysis","textract:GetDocumentAnalysis","textract:DetectDocumentText","textract:AnalyzeDocument"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaitextractprocessorServiceRoleDefaultPolicy93382A5B","roles":[{"Ref":"govbizaitextractprocessorServiceRole3ADF62DB"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-textract-processor/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-textract-processor/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-textract-processor/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-textract-processor/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-textract-processor/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaitextractprocessor752A3E15","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-textract-processor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"569676427f6fe7f20e0d0876b084bb9cfdba24f3ca820caa7f5f71fc1b075a26.zip"},"description":"Process documents using Amazon Textract for scanned/image PDFs","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"TEXTRACT_ROLE_ARN":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":role/govbizai-lambda-execution-role"]]}}},"functionName":"govbizai-textract-processor","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaidocumentprocessinglayer39856FE2"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaitextractprocessorServiceRole3ADF62DB","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaitextractprocessorSecurityGroup1F0662ED","GroupId"]}]}}}}}},"govbizai-text-cleaner":{"id":"govbizai-text-cleaner","path":"TestInfrastructureStack/govbizai-text-cleaner","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-text-cleaner/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-text-cleaner/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-cleaner/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-text-cleaner/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-cleaner/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["textract:StartDocumentTextDetection","textract:GetDocumentTextDetection","textract:StartDocumentAnalysis","textract:GetDocumentAnalysis","textract:DetectDocumentText","textract:AnalyzeDocument"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaitextcleanerServiceRoleDefaultPolicy3F964225","roles":[{"Ref":"govbizaitextcleanerServiceRole19E2542A"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-text-cleaner/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-text-cleaner/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-text-cleaner/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-text-cleaner/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-cleaner/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaitextcleaner4BE2DA8D","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-text-cleaner/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"96fc9058df5a2359166f96599be6da6b9564d0b015c6cf6d971f96dabd9cfb6a.zip"},"description":"Clean and normalize extracted text from documents","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"TEXTRACT_ROLE_ARN":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":role/govbizai-lambda-execution-role"]]}}},"functionName":"govbizai-text-cleaner","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaidocumentprocessinglayer39856FE2"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaitextcleanerServiceRole19E2542A","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":600,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaitextcleanerSecurityGroup0CA116EB","GroupId"]}]}}}}}},"govbizai-document-chunker":{"id":"govbizai-document-chunker","path":"TestInfrastructureStack/govbizai-document-chunker","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-document-chunker/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-document-chunker/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-chunker/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-document-chunker/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-chunker/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["textract:StartDocumentTextDetection","textract:GetDocumentTextDetection","textract:StartDocumentAnalysis","textract:GetDocumentAnalysis","textract:DetectDocumentText","textract:AnalyzeDocument"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaidocumentchunkerServiceRoleDefaultPolicy6C76B6BE","roles":[{"Ref":"govbizaidocumentchunkerServiceRole174290E2"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-document-chunker/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-document-chunker/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-document-chunker/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-document-chunker/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-chunker/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaidocumentchunkerB9FA8C82","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-chunker/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"4c87e475434595f4f689cb44c2632424ee0a13148c0ac703fce468b911f96e66.zip"},"description":"Chunk documents into manageable segments for embedding generation","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"TEXTRACT_ROLE_ARN":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":role/govbizai-lambda-execution-role"]]}}},"functionName":"govbizai-document-chunker","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaidocumentprocessinglayer39856FE2"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaidocumentchunkerServiceRole174290E2","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":600,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaidocumentchunkerSecurityGroup66161514","GroupId"]}]}}}}}},"govbizai-file-handlers":{"id":"govbizai-file-handlers","path":"TestInfrastructureStack/govbizai-file-handlers","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-file-handlers/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-file-handlers/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-file-handlers/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-file-handlers/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-file-handlers/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["textract:StartDocumentTextDetection","textract:GetDocumentTextDetection","textract:StartDocumentAnalysis","textract:GetDocumentAnalysis","textract:DetectDocumentText","textract:AnalyzeDocument"],"Effect":"Allow","Resource":"*"},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitextextraction0C176196","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitextextraction0C176196","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaifilehandlersServiceRoleDefaultPolicy395A56C4","roles":[{"Ref":"govbizaifilehandlersServiceRole843FA6B5"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-file-handlers/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-file-handlers/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-file-handlers/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-file-handlers/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-file-handlers/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaifilehandlers082FA95F","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-file-handlers/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"82f7ef976309ce46d17e42f48e819a61b7cd41773dcea77f25238d09bc490ca0.zip"},"description":"Handle text extraction from various file formats (Word, Excel, Text, HTML)","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"TEXTRACT_ROLE_ARN":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":role/govbizai-lambda-execution-role"]]},"TEXT_EXTRACTION_FUNCTION":{"Ref":"govbizaitextextraction0C176196"}}},"functionName":"govbizai-file-handlers","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaidocumentprocessinglayer39856FE2"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaifilehandlersServiceRole843FA6B5","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaifilehandlersSecurityGroupBA0EAC12","GroupId"]}]}}}}}},"govbizai-unified-processor":{"id":"govbizai-unified-processor","path":"TestInfrastructureStack/govbizai-unified-processor","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-unified-processor/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-unified-processor/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-unified-processor/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-unified-processor/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-unified-processor/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["textract:StartDocumentTextDetection","textract:GetDocumentTextDetection","textract:StartDocumentAnalysis","textract:GetDocumentAnalysis","textract:DetectDocumentText","textract:AnalyzeDocument"],"Effect":"Allow","Resource":"*"},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitextextraction0C176196","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitextextraction0C176196","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitextractprocessor559DCF0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitextractprocessor559DCF0C","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitextcleaner06583528","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitextcleaner06583528","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaidocumentchunker87A36F3D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaidocumentchunker87A36F3D","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaifilehandlers2E6047C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaifilehandlers2E6047C4","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaiunifiedprocessorServiceRoleDefaultPolicyE6AD7EF8","roles":[{"Ref":"govbizaiunifiedprocessorServiceRoleE5FEDC2C"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-unified-processor/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-unified-processor/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-unified-processor/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-unified-processor/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-unified-processor/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiunifiedprocessorA4E502ED","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-unified-processor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"3eba21f4c78e979ff3017ac8abcbfeb7ca463dde42991de15e7a9cab870b6c96.zip"},"description":"Unified interface for orchestrating the complete document processing pipeline","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"TEXTRACT_ROLE_ARN":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":role/govbizai-lambda-execution-role"]]},"FILE_HANDLERS_FUNCTION":{"Ref":"govbizaifilehandlers2E6047C4"},"TEXT_EXTRACTION_FUNCTION":{"Ref":"govbizaitextextraction0C176196"},"TEXTRACT_PROCESSOR_FUNCTION":{"Ref":"govbizaitextractprocessor559DCF0C"},"TEXT_CLEANER_FUNCTION":{"Ref":"govbizaitextcleaner06583528"},"DOCUMENT_CHUNKER_FUNCTION":{"Ref":"govbizaidocumentchunker87A36F3D"}}},"functionName":"govbizai-unified-processor","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaidocumentprocessinglayer39856FE2"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaiunifiedprocessorServiceRoleE5FEDC2C","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiunifiedprocessorSecurityGroup3F18A05A","GroupId"]}]}}}}}},"TextExtractionFunctionArn":{"id":"TextExtractionFunctionArn","path":"TestInfrastructureStack/TextExtractionFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"TextractProcessorFunctionArn":{"id":"TextractProcessorFunctionArn","path":"TestInfrastructureStack/TextractProcessorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"TextCleanerFunctionArn":{"id":"TextCleanerFunctionArn","path":"TestInfrastructureStack/TextCleanerFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DocumentChunkerFunctionArn":{"id":"DocumentChunkerFunctionArn","path":"TestInfrastructureStack/DocumentChunkerFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"FileHandlersFunctionArn":{"id":"FileHandlersFunctionArn","path":"TestInfrastructureStack/FileHandlersFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"UnifiedProcessorFunctionArn":{"id":"UnifiedProcessorFunctionArn","path":"TestInfrastructureStack/UnifiedProcessorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DocumentProcessingLayerArn":{"id":"DocumentProcessingLayerArn","path":"TestInfrastructureStack/DocumentProcessingLayerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"govbizai-lambda-execution-role":{"id":"govbizai-lambda-execution-role","path":"TestInfrastructureStack/govbizai-lambda-execution-role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"Importgovbizai-lambda-execution-role":{"id":"Importgovbizai-lambda-execution-role","path":"TestInfrastructureStack/govbizai-lambda-execution-role/Importgovbizai-lambda-execution-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-lambda-execution-role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"policies":[{"policyName":"govbizai-lambda-policy","policyDocument":{"Statement":[{"Action":["s3:GetObject","s3:PutObject","s3:DeleteObject","s3:ListBucket"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]},{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]},{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]},{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["dynamodb:GetItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:Query","dynamodb:Scan","dynamodb:BatchGetItem","dynamodb:BatchWriteItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]},{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]},{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]},{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiuserprofiles6B97A1D0","Arn"]},"/index/*"]]},{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]},{"Fn::GetAtt":["govbizaifeedbackA5E7768E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaifeedbackA5E7768E","Arn"]},"/index/*"]]},{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitenantsA724F50D","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}},{"Action":["textract:StartDocumentTextDetection","textract:GetDocumentTextDetection","textract:StartDocumentAnalysis","textract:GetDocumentAnalysis"],"Effect":"Allow","Resource":"*"},{"Action":["cognito-idp:AdminGetUser","cognito-idp:AdminUpdateUserAttributes","cognito-idp:AdminSetUserPassword","cognito-idp:AdminCreateUser","cognito-idp:AdminDeleteUser","cognito-idp:ListUsers"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiuserpool36C7E10A","Arn"]}}],"Version":"2012-10-17"}}],"roleName":"govbizai-lambda-execution-role","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-step-functions-role":{"id":"govbizai-step-functions-role","path":"TestInfrastructureStack/govbizai-step-functions-role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"Importgovbizai-step-functions-role":{"id":"Importgovbizai-step-functions-role","path":"TestInfrastructureStack/govbizai-step-functions-role/Importgovbizai-step-functions-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-step-functions-role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"govbizai-step-functions-policy","policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}},{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":*"]]}}],"Version":"2012-10-17"}}],"roleName":"govbizai-step-functions-role","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-eventbridge-role":{"id":"govbizai-eventbridge-role","path":"TestInfrastructureStack/govbizai-eventbridge-role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"Importgovbizai-eventbridge-role":{"id":"Importgovbizai-eventbridge-role","path":"TestInfrastructureStack/govbizai-eventbridge-role/Importgovbizai-eventbridge-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-eventbridge-role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"govbizai-eventbridge-policy","policyDocument":{"Statement":[{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:states:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":stateMachine:govbizai-*"]]}}],"Version":"2012-10-17"}}],"roleName":"govbizai-eventbridge-role","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"LambdaExecutionRoleArn":{"id":"LambdaExecutionRoleArn","path":"TestInfrastructureStack/LambdaExecutionRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"StepFunctionsExecutionRoleArn":{"id":"StepFunctionsExecutionRoleArn","path":"TestInfrastructureStack/StepFunctionsExecutionRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"EventBridgeExecutionRoleArn":{"id":"EventBridgeExecutionRoleArn","path":"TestInfrastructureStack/EventBridgeExecutionRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"govbizai-samgov-layer":{"id":"govbizai-samgov-layer","path":"TestInfrastructureStack/govbizai-samgov-layer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.211.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-samgov-layer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-samgov-layer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-samgov-layer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-layer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"b9b0c6a90dadd5da19735dbf70f215d87dbdc1e468f4d87ec89fb51e9b18f3a5.zip"},"description":"SAM.gov integration dependencies including requests, pandas, boto3, etc.","layerName":"govbizai-samgov-layer"}}}}},"govbizai-opportunity-processing-dlq":{"id":"govbizai-opportunity-processing-dlq","path":"TestInfrastructureStack/govbizai-opportunity-processing-dlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-opportunity-processing-dlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"govbizai-opportunity-processing-dlq","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-opportunity-processing-queue":{"id":"govbizai-opportunity-processing-queue","path":"TestInfrastructureStack/govbizai-opportunity-processing-queue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-opportunity-processing-queue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"govbizai-opportunity-processing-queue","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["govbizaiopportunityprocessingdlqBC2F7D9A","Arn"]},"maxReceiveCount":3},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"visibilityTimeout":900}}}}},"govbizai-csv-processor":{"id":"govbizai-csv-processor","path":"TestInfrastructureStack/govbizai-csv-processor","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-csv-processor/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-csv-processor/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-csv-processor/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-csv-processor/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-csv-processor/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaicsvprocessorServiceRoleDefaultPolicyC5D6B8C7","roles":[{"Ref":"govbizaicsvprocessorServiceRole0F060C40"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-csv-processor/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-csv-processor/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-csv-processor/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-csv-processor/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-csv-processor/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaicsvprocessor4B677A63","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-csv-processor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"6ef1510b6a8db900457862f0132012f093ce5dda9cd447e479d604fa17d17e13.zip"},"description":"Download and process SAM.gov CSV files with filtering","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"PROCESSING_QUEUE_URL":{"Ref":"govbizaiopportunityprocessingqueueA25C3C4F"}}},"functionName":"govbizai-csv-processor","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaisamgovlayerE234361B"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaicsvprocessorServiceRole0F060C40","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaicsvprocessorSecurityGroupC80D8CFF","GroupId"]}]}}}}}},"govbizai-samgov-api-client":{"id":"govbizai-samgov-api-client","path":"TestInfrastructureStack/govbizai-samgov-api-client","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-samgov-api-client/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-samgov-api-client/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-api-client/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-samgov-api-client/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-api-client/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaisamgovapiclientServiceRoleDefaultPolicy89838494","roles":[{"Ref":"govbizaisamgovapiclientServiceRole61DC75B8"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-samgov-api-client/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-samgov-api-client/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-samgov-api-client/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-samgov-api-client/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-api-client/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaisamgovapiclient2E08D267","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-api-client/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"2a96d85c0416ddcb02d7ce1fa12f522853a28767d5561d4138a58cc05a708691.zip"},"description":"SAM.gov API client with retry logic and rate limiting","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"PROCESSING_QUEUE_URL":{"Ref":"govbizaiopportunityprocessingqueueA25C3C4F"}}},"functionName":"govbizai-samgov-api-client","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaisamgovlayerE234361B"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaisamgovapiclientServiceRole61DC75B8","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaisamgovapiclientSecurityGroupD94BA827","GroupId"]}]}}}}}},"govbizai-attachment-downloader":{"id":"govbizai-attachment-downloader","path":"TestInfrastructureStack/govbizai-attachment-downloader","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-attachment-downloader/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-attachment-downloader/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-attachment-downloader/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-attachment-downloader/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-attachment-downloader/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaiattachmentdownloaderServiceRoleDefaultPolicyF7A4D9F4","roles":[{"Ref":"govbizaiattachmentdownloaderServiceRole5D4ACF64"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-attachment-downloader/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-attachment-downloader/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-attachment-downloader/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-attachment-downloader/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-attachment-downloader/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiattachmentdownloader3296DFB4","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-attachment-downloader/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"5e0e7c533023a179f7e911b92390424ded42b3c90c125ccea7c7b027a9ffeb2d.zip"},"description":"Download and store opportunity attachments from SAM.gov","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"PROCESSING_QUEUE_URL":{"Ref":"govbizaiopportunityprocessingqueueA25C3C4F"}}},"functionName":"govbizai-attachment-downloader","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaisamgovlayerE234361B"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaiattachmentdownloaderServiceRole5D4ACF64","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiattachmentdownloaderSecurityGroup5D490164","GroupId"]}]}}}}}},"govbizai-opportunity-processor":{"id":"govbizai-opportunity-processor","path":"TestInfrastructureStack/govbizai-opportunity-processor","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-opportunity-processor/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-opportunity-processor/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-opportunity-processor/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-opportunity-processor/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-opportunity-processor/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaiopportunityprocessorServiceRoleDefaultPolicy6F16A3A5","roles":[{"Ref":"govbizaiopportunityprocessorServiceRole067EC6C5"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-opportunity-processor/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-opportunity-processor/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-opportunity-processor/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-opportunity-processor/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-opportunity-processor/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiopportunityprocessor7D6AB1A9","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-opportunity-processor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"1067273bd68bd7d333ff5d28f7133e398a6f9326f9c3f7eafd26686917a5c062.zip"},"description":"Process opportunities and generate embeddings","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"PROCESSING_QUEUE_URL":{"Ref":"govbizaiopportunityprocessingqueueA25C3C4F"}}},"functionName":"govbizai-opportunity-processor","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaisamgovlayerE234361B"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaiopportunityprocessorServiceRole067EC6C5","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiopportunityprocessorSecurityGroup3F18D452","GroupId"]}]}}}}}},"govbizai-data-retention":{"id":"govbizai-data-retention","path":"TestInfrastructureStack/govbizai-data-retention","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-data-retention/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-data-retention/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-data-retention/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-data-retention/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-data-retention/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaidataretentionServiceRoleDefaultPolicyACB78832","roles":[{"Ref":"govbizaidataretentionServiceRole296EC6D7"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-data-retention/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-data-retention/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-data-retention/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-data-retention/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-data-retention/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaidataretention17269923","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-data-retention/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"25101b1509a6526f7ab4d7513dc1202a690f716846b764df68f44d7ad4a088a1.zip"},"description":"Clean up expired opportunities and attachments","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"PROCESSING_QUEUE_URL":{"Ref":"govbizaiopportunityprocessingqueueA25C3C4F"}}},"functionName":"govbizai-data-retention","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaisamgovlayerE234361B"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaidataretentionServiceRole296EC6D7","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaidataretentionSecurityGroup46AFABD3","GroupId"]}]}}}}}},"govbizai-samgov-orchestrator":{"id":"govbizai-samgov-orchestrator","path":"TestInfrastructureStack/govbizai-samgov-orchestrator","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaitempprocessing8660E60C","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiopportunityprocessingqueueA25C3C4F","Arn"]}},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicsvprocessorE4C498A4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicsvprocessorE4C498A4","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaisamgovapiclientD137678A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaisamgovapiclientD137678A","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiattachmentdownloaderCB0D7297","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiattachmentdownloaderCB0D7297","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunityprocessorE3114360","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunityprocessorE3114360","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaisamgovorchestratorServiceRoleDefaultPolicy8CF17B1F","roles":[{"Ref":"govbizaisamgovorchestratorServiceRole2E927FA6"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaisamgovorchestrator35D42E34","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-samgov-orchestrator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"de82c4e783817793080e0f47625a79961d3bde77b33b510e3081ed44097a3160.zip"},"description":"Main orchestrator for SAM.gov nightly processing","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"TEMP_PROCESSING_BUCKET":{"Ref":"govbizaitempprocessing8660E60C"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"PROCESSING_QUEUE_URL":{"Ref":"govbizaiopportunityprocessingqueueA25C3C4F"},"CSV_PROCESSOR_FUNCTION":{"Ref":"govbizaicsvprocessorE4C498A4"},"API_CLIENT_FUNCTION":{"Ref":"govbizaisamgovapiclientD137678A"},"ATTACHMENT_DOWNLOADER_FUNCTION":{"Ref":"govbizaiattachmentdownloaderCB0D7297"},"OPPORTUNITY_PROCESSOR_FUNCTION":{"Ref":"govbizaiopportunityprocessorE3114360"}}},"functionName":"govbizai-samgov-orchestrator","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaisamgovlayerE234361B"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaisamgovorchestratorServiceRole2E927FA6","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaisamgovorchestratorSecurityGroup5157016D","GroupId"]}]}}}}}},"Initialize Processing":{"id":"Initialize Processing","path":"TestInfrastructureStack/Initialize Processing","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"Process Opportunity":{"id":"Process Opportunity","path":"TestInfrastructureStack/Process Opportunity","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"Download Attachments":{"id":"Download Attachments","path":"TestInfrastructureStack/Download Attachments","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"Process Opportunities in Parallel":{"id":"Process Opportunities in Parallel","path":"TestInfrastructureStack/Process Opportunities in Parallel","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.DistributedMap","version":"2.211.0"}},"Processing Complete":{"id":"Processing Complete","path":"TestInfrastructureStack/Processing Complete","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Succeed","version":"2.211.0"}},"Processing Failed":{"id":"Processing Failed","path":"TestInfrastructureStack/Processing Failed","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Fail","version":"2.211.0"}},"govbizai-processing-state-machine-logs":{"id":"govbizai-processing-state-machine-logs","path":"TestInfrastructureStack/govbizai-processing-state-machine-logs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processing-state-machine-logs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/stepfunctions/govbizai-processing-state-machine","retentionInDays":30,"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-processing-state-machine":{"id":"govbizai-processing-state-machine","path":"TestInfrastructureStack/govbizai-processing-state-machine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.211.0","metadata":[]},"children":{"Role":{"id":"Role","path":"TestInfrastructureStack/govbizai-processing-state-machine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"TestInfrastructureStack/govbizai-processing-state-machine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processing-state-machine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-processing-state-machine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processing-state-machine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicsvprocessorE4C498A4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicsvprocessorE4C498A4","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunityprocessorE3114360","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunityprocessorE3114360","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiattachmentdownloaderCB0D7297","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiattachmentdownloaderCB0D7297","Arn"]},":*"]]}]},{"Action":["logs:CreateLogDelivery","logs:GetLogDelivery","logs:UpdateLogDelivery","logs:DeleteLogDelivery","logs:ListLogDeliveries","logs:PutResourcePolicy","logs:DescribeResourcePolicies","logs:DescribeLogGroups"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaiprocessingstatemachineRoleDefaultPolicyD88C8811","roles":[{"Ref":"govbizaiprocessingstatemachineRole3B667984"}]}}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processing-state-machine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"Initialize Processing\",\"States\":{\"Initialize Processing\":{\"Next\":\"Process Opportunities in Parallel\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.error\",\"Next\":\"Processing Failed\"}],\"Type\":\"Task\",\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["govbizaicsvprocessorE4C498A4","Arn"]},"\",\"Payload.$\":\"$\"}},\"Process Opportunities in Parallel\":{\"Type\":\"Map\",\"Next\":\"Processing Complete\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.error\",\"Next\":\"Processing Failed\"}],\"ItemsPath\":\"$.opportunities\",\"ItemProcessor\":{\"ProcessorConfig\":{\"Mode\":\"DISTRIBUTED\",\"ExecutionType\":\"STANDARD\"},\"StartAt\":\"Process Opportunity\",\"States\":{\"Process Opportunity\":{\"Next\":\"Download Attachments\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["govbizaiopportunityprocessorE3114360","Arn"]},"\",\"Payload.$\":\"$\"}},\"Download Attachments\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["govbizaiattachmentdownloaderCB0D7297","Arn"]},"\",\"Payload.$\":\"$\"}}}},\"MaxConcurrency\":50},\"Processing Complete\":{\"Type\":\"Succeed\",\"Comment\":\"All opportunities processed successfully\"},\"Processing Failed\":{\"Type\":\"Fail\",\"Comment\":\"Processing failed with errors\"}},\"TimeoutSeconds\":14400}"]]},"loggingConfiguration":{"destinations":[{"cloudWatchLogsLogGroup":{"logGroupArn":{"Fn::GetAtt":["govbizaiprocessingstatemachinelogsF56F3F6E","Arn"]}}}],"level":"ALL"},"roleArn":{"Fn::GetAtt":["govbizaiprocessingstatemachineRole3B667984","Arn"]},"stateMachineName":"govbizai-processing-state-machine","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DistributedMapPolicy":{"id":"DistributedMapPolicy","path":"TestInfrastructureStack/govbizai-processing-state-machine/DistributedMapPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processing-state-machine/DistributedMapPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"govbizaiprocessingstatemachineF42BD87C"}},{"Action":["states:DescribeExecution","states:StopExecution"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Ref":"govbizaiprocessingstatemachineF42BD87C"},":*"]]}}],"Version":"2012-10-17"},"policyName":"govbizaiprocessingstatemachineDistributedMapPolicy0CFEC373","roles":[{"Ref":"govbizaiprocessingstatemachineRole3B667984"}]}}}}},"EventsRole":{"id":"EventsRole","path":"TestInfrastructureStack/govbizai-processing-state-machine/EventsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportEventsRole":{"id":"ImportEventsRole","path":"TestInfrastructureStack/govbizai-processing-state-machine/EventsRole/ImportEventsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processing-state-machine/EventsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-processing-state-machine/EventsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-processing-state-machine/EventsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"govbizaiprocessingstatemachineF42BD87C"}}],"Version":"2012-10-17"},"policyName":"govbizaiprocessingstatemachineEventsRoleDefaultPolicyBAF2150A","roles":[{"Ref":"govbizaiprocessingstatemachineEventsRole4457CD0B"}]}}}}}}}}},"govbizai-nightly-processing-rule":{"id":"govbizai-nightly-processing-rule","path":"TestInfrastructureStack/govbizai-nightly-processing-rule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-nightly-processing-rule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Trigger SAM.gov processing at 2:00 AM EST daily","name":"govbizai-nightly-processing-rule","scheduleExpression":"cron(0 7 * * ? *)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Ref":"govbizaiprocessingstatemachineF42BD87C"},"roleArn":{"Fn::GetAtt":["govbizaiprocessingstatemachineEventsRole4457CD0B","Arn"]}}]}}}}},"govbizai-data-retention-rule":{"id":"govbizai-data-retention-rule","path":"TestInfrastructureStack/govbizai-data-retention-rule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-data-retention-rule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Trigger data retention cleanup at 3:00 AM EST daily","name":"govbizai-data-retention-rule","scheduleExpression":"cron(0 8 * * ? *)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["govbizaidataretentionB54F2C67","Arn"]}}]}}},"AllowEventRuleTestInfrastructureStackgovbizaidataretention17269923":{"id":"AllowEventRuleTestInfrastructureStackgovbizaidataretention17269923","path":"TestInfrastructureStack/govbizai-data-retention-rule/AllowEventRuleTestInfrastructureStackgovbizaidataretention17269923","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaidataretentionB54F2C67","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["govbizaidataretentionruleB4FB315A","Arn"]}}}}}},"CsvProcessorFunctionArn":{"id":"CsvProcessorFunctionArn","path":"TestInfrastructureStack/CsvProcessorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"SamgovApiClientFunctionArn":{"id":"SamgovApiClientFunctionArn","path":"TestInfrastructureStack/SamgovApiClientFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"AttachmentDownloaderFunctionArn":{"id":"AttachmentDownloaderFunctionArn","path":"TestInfrastructureStack/AttachmentDownloaderFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"OpportunityProcessorFunctionArn":{"id":"OpportunityProcessorFunctionArn","path":"TestInfrastructureStack/OpportunityProcessorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DataRetentionFunctionArn":{"id":"DataRetentionFunctionArn","path":"TestInfrastructureStack/DataRetentionFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"SamgovOrchestratorFunctionArn":{"id":"SamgovOrchestratorFunctionArn","path":"TestInfrastructureStack/SamgovOrchestratorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ProcessingStateMachineArn":{"id":"ProcessingStateMachineArn","path":"TestInfrastructureStack/ProcessingStateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"OpportunityProcessingQueueUrl":{"id":"OpportunityProcessingQueueUrl","path":"TestInfrastructureStack/OpportunityProcessingQueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"SamgovLayerArn":{"id":"SamgovLayerArn","path":"TestInfrastructureStack/SamgovLayerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"govbizai-company-profile-layer":{"id":"govbizai-company-profile-layer","path":"TestInfrastructureStack/govbizai-company-profile-layer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.211.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-company-profile-layer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-company-profile-layer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-company-profile-layer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-company-profile-layer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"f74bcdfc4968de22ff341ec3a8174b0653bb22cc6749a34c4a7bf5667eb4d7fe.zip"},"description":"Company profile management dependencies including requests, BeautifulSoup4, etc.","layerName":"govbizai-company-profile-layer"}}}}},"govbizai-upload-presigned-url":{"id":"govbizai-upload-presigned-url","path":"TestInfrastructureStack/govbizai-upload-presigned-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-upload-presigned-url/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-upload-presigned-url/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-presigned-url/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-upload-presigned-url/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-presigned-url/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaiuploadpresignedurlServiceRoleDefaultPolicyB528EC84","roles":[{"Ref":"govbizaiuploadpresignedurlServiceRole3BECF939"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-upload-presigned-url/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-upload-presigned-url/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-upload-presigned-url/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-upload-presigned-url/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-presigned-url/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiuploadpresignedurl12AA337F","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-presigned-url/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"2f1c079d51bbd5c386b7448ce70afbe33a6faae104c001947cea4256e8d31bc2.zip"},"description":"Generate presigned URLs for secure document uploads","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-upload-presigned-url","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaiuploadpresignedurlServiceRole3BECF939","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiuploadpresignedurlSecurityGroupFF37A384","GroupId"]}]}}}}}},"govbizai-multipart-upload":{"id":"govbizai-multipart-upload","path":"TestInfrastructureStack/govbizai-multipart-upload","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-multipart-upload/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-multipart-upload/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-multipart-upload/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-multipart-upload/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-multipart-upload/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaimultipartuploadServiceRoleDefaultPolicyF39B0A03","roles":[{"Ref":"govbizaimultipartuploadServiceRole4A0E3A89"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-multipart-upload/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-multipart-upload/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-multipart-upload/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-multipart-upload/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-multipart-upload/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaimultipartuploadBB3514C9","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-multipart-upload/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"581140a8b92d09c2c9b8a0cc6fbd36a853a4cffba8fd2b057d4c7033af92cc32.zip"},"description":"Handle multipart uploads for large documents","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-multipart-upload","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaimultipartuploadServiceRole4A0E3A89","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":600,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaimultipartuploadSecurityGroupB995DCFA","GroupId"]}]}}}}}},"govbizai-upload-progress":{"id":"govbizai-upload-progress","path":"TestInfrastructureStack/govbizai-upload-progress","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-upload-progress/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-upload-progress/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-progress/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-upload-progress/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-progress/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaiuploadprogressServiceRoleDefaultPolicy9E487EF1","roles":[{"Ref":"govbizaiuploadprogressServiceRole7A28B914"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-upload-progress/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-upload-progress/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-upload-progress/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-upload-progress/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-progress/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiuploadprogressDBE84FF6","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-upload-progress/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"29ed1d164cd72f92e944de5cbde56bd072cd897d0ac1bdac06b281782a97897c.zip"},"description":"Track and manage document upload progress","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-upload-progress","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaiuploadprogressServiceRole7A28B914","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiuploadprogressSecurityGroupFA936065","GroupId"]}]}}}}}},"govbizai-schema-validator":{"id":"govbizai-schema-validator","path":"TestInfrastructureStack/govbizai-schema-validator","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-schema-validator/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-schema-validator/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schema-validator/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-schema-validator/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schema-validator/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaischemavalidatorServiceRoleDefaultPolicyE1510F6C","roles":[{"Ref":"govbizaischemavalidatorServiceRole1D36BA92"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-schema-validator/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-schema-validator/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-schema-validator/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-schema-validator/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schema-validator/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaischemavalidator555ACCB0","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schema-validator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"c2f116717f95c09a398876f3782f7fe5aec87a212c2bdb4990eb10ffe727acd4.zip"},"description":"Validate and sanitize company profile data","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-schema-validator","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaischemavalidatorServiceRole1D36BA92","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaischemavalidatorSecurityGroupA78054CC","GroupId"]}]}}}}}},"govbizai-document-categorizer":{"id":"govbizai-document-categorizer","path":"TestInfrastructureStack/govbizai-document-categorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-document-categorizer/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-document-categorizer/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-categorizer/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-document-categorizer/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-categorizer/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaidocumentcategorizerServiceRoleDefaultPolicyCB06E0B7","roles":[{"Ref":"govbizaidocumentcategorizerServiceRole69348B81"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-document-categorizer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-document-categorizer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-document-categorizer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-document-categorizer/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-categorizer/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaidocumentcategorizerDFCEA67F","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-document-categorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"2009b4a6b21beeefb0c307da30b27e481562d6e616368ba9fd21220843258e03.zip"},"description":"Automatically categorize uploaded documents","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-document-categorizer","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaidocumentcategorizerServiceRole69348B81","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaidocumentcategorizerSecurityGroup0A6C8D38","GroupId"]}]}}}}}},"govbizai-resume-parser":{"id":"govbizai-resume-parser","path":"TestInfrastructureStack/govbizai-resume-parser","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-resume-parser/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-resume-parser/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-resume-parser/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-resume-parser/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-resume-parser/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizairesumeparserServiceRoleDefaultPolicy3AC2B47D","roles":[{"Ref":"govbizairesumeparserServiceRoleB962D2FC"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-resume-parser/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-resume-parser/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-resume-parser/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-resume-parser/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-resume-parser/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizairesumeparser1F32BDA0","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-resume-parser/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"9b0f6917b95edf1f8da63043f5fcfd99891d1999153bb14b1614d0674bc94a4a.zip"},"description":"Extract structured information from resume documents","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-resume-parser","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizairesumeparserServiceRoleB962D2FC","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizairesumeparserSecurityGroupD80C15C5","GroupId"]}]}}}}}},"govbizai-capability-processor":{"id":"govbizai-capability-processor","path":"TestInfrastructureStack/govbizai-capability-processor","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-capability-processor/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-capability-processor/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capability-processor/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-capability-processor/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capability-processor/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaicapabilityprocessorServiceRoleDefaultPolicyB53218AA","roles":[{"Ref":"govbizaicapabilityprocessorServiceRoleA36E32D5"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-capability-processor/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-capability-processor/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-capability-processor/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-capability-processor/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capability-processor/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaicapabilityprocessor4D6D20B7","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capability-processor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"a6481199dc0d990cb1ff016380e87c6c3c158d942b8c92a6d80a89b3f7042548.zip"},"description":"Process and extract information from capability statements","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-capability-processor","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaicapabilityprocessorServiceRoleA36E32D5","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaicapabilityprocessorSecurityGroup6943A798","GroupId"]}]}}}}}},"govbizai-website-scraper":{"id":"govbizai-website-scraper","path":"TestInfrastructureStack/govbizai-website-scraper","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-website-scraper/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-website-scraper/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-website-scraper/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-website-scraper/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-website-scraper/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]},{"Action":["events:PutRule","events:PutTargets","events:DeleteRule","events:RemoveTargets"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:events:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":rule/govbizai-website-scraping-*"]]}}],"Version":"2012-10-17"},"policyName":"govbizaiwebsitescraperServiceRoleDefaultPolicyB0879F68","roles":[{"Ref":"govbizaiwebsitescraperServiceRole7AC71D11"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-website-scraper/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-website-scraper/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-website-scraper/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-website-scraper/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-website-scraper/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiwebsitescraper720BA23C","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-website-scraper/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"81bf412e52cae21ee4aa807ed26a68ac7240ae6ade502434cfa529d774b56988.zip"},"description":"Scrape company websites with robots.txt compliance","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-website-scraper","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":2048,"role":{"Fn::GetAtt":["govbizaiwebsitescraperServiceRole7AC71D11","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiwebsitescraperSecurityGroup073C2FBB","GroupId"]}]}}}}}},"govbizai-embedding-strategy":{"id":"govbizai-embedding-strategy","path":"TestInfrastructureStack/govbizai-embedding-strategy","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-embedding-strategy/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-embedding-strategy/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-embedding-strategy/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-embedding-strategy/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-embedding-strategy/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairawdocumentsC6263907","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprocesseddocumentsEB84F3C4","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiauditlog8C2898B9","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-text-extraction"]]},{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":function:govbizai-*"]]}]}],"Version":"2012-10-17"},"policyName":"govbizaiembeddingstrategyServiceRoleDefaultPolicy4F3D624E","roles":[{"Ref":"govbizaiembeddingstrategyServiceRole6CABE457"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-embedding-strategy/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-embedding-strategy/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-embedding-strategy/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-embedding-strategy/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-embedding-strategy/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiembeddingstrategy4F004D31","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-embedding-strategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"8c6e5fcd81cf082024d0bcbf28f3a20e229c93f7da2a1fb08a831f904dcc2abe.zip"},"description":"Create multi-level embeddings for company documents","environment":{"variables":{"RAW_DOCUMENTS_BUCKET":{"Ref":"govbizairawdocumentsC6263907"},"PROCESSED_DOCUMENTS_BUCKET":{"Ref":"govbizaiprocesseddocumentsEB84F3C4"},"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"COMPANIES_TABLE_NAME":{"Ref":"govbizaicompaniesEF47080E"},"AUDIT_LOG_TABLE_NAME":{"Ref":"govbizaiauditlog8C2898B9"},"TEXT_EXTRACTION_FUNCTION":"govbizai-text-extraction"}},"functionName":"govbizai-embedding-strategy","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaicompanyprofilelayerA55DC6C5"}],"memorySize":2048,"role":{"Fn::GetAtt":["govbizaiembeddingstrategyServiceRole6CABE457","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiembeddingstrategySecurityGroup3E22B25B","GroupId"]}]}}}}}},"UploadPresignedUrlFunctionArn":{"id":"UploadPresignedUrlFunctionArn","path":"TestInfrastructureStack/UploadPresignedUrlFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"MultipartUploadFunctionArn":{"id":"MultipartUploadFunctionArn","path":"TestInfrastructureStack/MultipartUploadFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"UploadProgressFunctionArn":{"id":"UploadProgressFunctionArn","path":"TestInfrastructureStack/UploadProgressFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"SchemaValidatorFunctionArn":{"id":"SchemaValidatorFunctionArn","path":"TestInfrastructureStack/SchemaValidatorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DocumentCategorizerFunctionArn":{"id":"DocumentCategorizerFunctionArn","path":"TestInfrastructureStack/DocumentCategorizerFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ResumeParserFunctionArn":{"id":"ResumeParserFunctionArn","path":"TestInfrastructureStack/ResumeParserFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CapabilityProcessorFunctionArn":{"id":"CapabilityProcessorFunctionArn","path":"TestInfrastructureStack/CapabilityProcessorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"WebsiteScraperFunctionArn":{"id":"WebsiteScraperFunctionArn","path":"TestInfrastructureStack/WebsiteScraperFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"EmbeddingStrategyFunctionArn":{"id":"EmbeddingStrategyFunctionArn","path":"TestInfrastructureStack/EmbeddingStrategyFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CompanyProfileLayerArn":{"id":"CompanyProfileLayerArn","path":"TestInfrastructureStack/CompanyProfileLayerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"govbizai-matching-engine-layer":{"id":"govbizai-matching-engine-layer","path":"TestInfrastructureStack/govbizai-matching-engine-layer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.211.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-matching-engine-layer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-matching-engine-layer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-matching-engine-layer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-engine-layer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"0887df0fee1e0726717ae4b106fa17e200f756eaadafda86e25c7ee19fd7dfbb.zip"},"description":"Matching engine dependencies including numpy, scipy, scikit-learn","layerName":"govbizai-matching-engine-layer"}}}}},"govbizai-match-cache":{"id":"govbizai-match-cache","path":"TestInfrastructureStack/govbizai-match-cache","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-match-cache/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"cache_key","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"cache_key","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]},"sseType":"KMS"},"tableName":"govbizai-match-cache","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-match-cache/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-semantic-similarity":{"id":"govbizai-semantic-similarity","path":"TestInfrastructureStack/govbizai-semantic-similarity","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-semantic-similarity/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-semantic-similarity/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-semantic-similarity/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-semantic-similarity/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-semantic-similarity/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaisemanticsimilarityServiceRoleDefaultPolicy95C08C5F","roles":[{"Ref":"govbizaisemanticsimilarityServiceRole57D25F8B"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-semantic-similarity/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-semantic-similarity/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-semantic-similarity/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-semantic-similarity/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-semantic-similarity/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaisemanticsimilarity2F1727D9","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-semantic-similarity/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"836fc15282a4112385d2d9b50c51b989c0f1dd2b5ca1ae9fa6e14a88ea12e5a2.zip"},"description":"Calculate semantic similarity between opportunities and companies using Bedrock embeddings","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-semantic-similarity","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaisemanticsimilarityServiceRole57D25F8B","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaisemanticsimilaritySecurityGroupA9776FDB","GroupId"]}]}}}}}},"govbizai-keyword-matching":{"id":"govbizai-keyword-matching","path":"TestInfrastructureStack/govbizai-keyword-matching","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-keyword-matching/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-keyword-matching/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-keyword-matching/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-keyword-matching/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-keyword-matching/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaikeywordmatchingServiceRoleDefaultPolicy0F144605","roles":[{"Ref":"govbizaikeywordmatchingServiceRole510AFA90"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-keyword-matching/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-keyword-matching/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-keyword-matching/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-keyword-matching/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-keyword-matching/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaikeywordmatching1EA2BF70","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-keyword-matching/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"c97cc41d7da06f76c102fba377c5830d494e5905b08f4de486c8f582ba2dd089.zip"},"description":"Perform keyword matching with TF-IDF scoring and acronym handling","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-keyword-matching","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaikeywordmatchingServiceRole510AFA90","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaikeywordmatchingSecurityGroupADACBB6B","GroupId"]}]}}}}}},"govbizai-naics-alignment":{"id":"govbizai-naics-alignment","path":"TestInfrastructureStack/govbizai-naics-alignment","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-naics-alignment/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-naics-alignment/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-naics-alignment/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-naics-alignment/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-naics-alignment/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizainaicsalignmentServiceRoleDefaultPolicy3B6D784A","roles":[{"Ref":"govbizainaicsalignmentServiceRoleFAE75B6B"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-naics-alignment/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-naics-alignment/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-naics-alignment/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-naics-alignment/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-naics-alignment/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizainaicsalignment3D613D1F","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-naics-alignment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"cc2145ed35364f306ce5daed6ffb095ddbbd8db9c16f3537ffe2ff598ad12b4d.zip"},"description":"Calculate NAICS code alignment with tiered matching","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-naics-alignment","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizainaicsalignmentServiceRoleFAE75B6B","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizainaicsalignmentSecurityGroup9B04C2F8","GroupId"]}]}}}}}},"govbizai-past-performance":{"id":"govbizai-past-performance","path":"TestInfrastructureStack/govbizai-past-performance","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-past-performance/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-past-performance/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-past-performance/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-past-performance/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-past-performance/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaipastperformanceServiceRoleDefaultPolicyB00D0697","roles":[{"Ref":"govbizaipastperformanceServiceRole7CF6F4DF"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-past-performance/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-past-performance/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-past-performance/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-past-performance/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-past-performance/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaipastperformanceC691EE06","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-past-performance/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"3959a95c702ee1c0a55d6691edfdb965b0f670ebaf3a4ef7945e3513461bfd16.zip"},"description":"Analyze past performance relevance and CPARS ratings","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-past-performance","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaipastperformanceServiceRole7CF6F4DF","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaipastperformanceSecurityGroupC1F84189","GroupId"]}]}}}}}},"govbizai-certification-bonus":{"id":"govbizai-certification-bonus","path":"TestInfrastructureStack/govbizai-certification-bonus","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-certification-bonus/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-certification-bonus/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-certification-bonus/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-certification-bonus/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-certification-bonus/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaicertificationbonusServiceRoleDefaultPolicyD537650B","roles":[{"Ref":"govbizaicertificationbonusServiceRole1C66F863"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-certification-bonus/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-certification-bonus/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-certification-bonus/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-certification-bonus/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-certification-bonus/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaicertificationbonus82D74AED","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-certification-bonus/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"84a4e7c3abc0c56f7d1693af46a88772bef7d8588905ec599daca2c22aa8cda4.zip"},"description":"Calculate certification bonus scores and set-aside compliance","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-certification-bonus","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaicertificationbonusServiceRole1C66F863","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaicertificationbonusSecurityGroupAA37E3BC","GroupId"]}]}}}}}},"govbizai-geographic-match":{"id":"govbizai-geographic-match","path":"TestInfrastructureStack/govbizai-geographic-match","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-geographic-match/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-geographic-match/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-geographic-match/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-geographic-match/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-geographic-match/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaigeographicmatchServiceRoleDefaultPolicyB7C2C687","roles":[{"Ref":"govbizaigeographicmatchServiceRole75F57FDC"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-geographic-match/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-geographic-match/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-geographic-match/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-geographic-match/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-geographic-match/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaigeographicmatch6A7FE582","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-geographic-match/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"7bac1fdb07540b90db3eac7e36e723d6c3f0d08ba5c43abe3875f41655a60f46.zip"},"description":"Calculate geographic proximity and location-based scoring","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-geographic-match","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaigeographicmatchServiceRole75F57FDC","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaigeographicmatchSecurityGroupEC9003CF","GroupId"]}]}}}}}},"govbizai-capacity-fit":{"id":"govbizai-capacity-fit","path":"TestInfrastructureStack/govbizai-capacity-fit","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-capacity-fit/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-capacity-fit/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capacity-fit/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-capacity-fit/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capacity-fit/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaicapacityfitServiceRoleDefaultPolicy4BDD4B8D","roles":[{"Ref":"govbizaicapacityfitServiceRole3F14982D"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-capacity-fit/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-capacity-fit/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-capacity-fit/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-capacity-fit/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capacity-fit/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaicapacityfitE18715A3","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-capacity-fit/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"5d1db7f79748b515d14ba3902a41d481085fff841d95956436f54b2077360bf5.zip"},"description":"Assess capacity fit between company size and contract requirements","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-capacity-fit","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizaicapacityfitServiceRole3F14982D","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaicapacityfitSecurityGroup9BD0AE3B","GroupId"]}]}}}}}},"govbizai-recency-factor":{"id":"govbizai-recency-factor","path":"TestInfrastructureStack/govbizai-recency-factor","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-recency-factor/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-recency-factor/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-recency-factor/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-recency-factor/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-recency-factor/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizairecencyfactorServiceRoleDefaultPolicy762434B0","roles":[{"Ref":"govbizairecencyfactorServiceRoleA3318C22"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-recency-factor/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-recency-factor/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-recency-factor/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-recency-factor/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-recency-factor/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizairecencyfactorB7A195E2","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-recency-factor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"0d7ca17794df914f52cec944163628d1aac2f4cb0682acffdf8ccd02e42c52c8.zip"},"description":"Calculate recency factor with time-based decay","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-recency-factor","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":512,"role":{"Fn::GetAtt":["govbizairecencyfactorServiceRoleA3318C22","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizairecencyfactorSecurityGroup1098EA4F","GroupId"]}]}}}}}},"govbizai-quick-filter":{"id":"govbizai-quick-filter","path":"TestInfrastructureStack/govbizai-quick-filter","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-quick-filter/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-quick-filter/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-quick-filter/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-quick-filter/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-quick-filter/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}}],"Version":"2012-10-17"},"policyName":"govbizaiquickfilterServiceRoleDefaultPolicyFD4876D8","roles":[{"Ref":"govbizaiquickfilterServiceRole6DCBE038"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-quick-filter/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-quick-filter/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-quick-filter/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-quick-filter/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-quick-filter/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaiquickfilterD89AC33C","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-quick-filter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"4ec160dc3fff4ea45a6de84fc4fe123036492d3e5634a749a507df228c148f40.zip"},"description":"Rapid pre-screening filter for potential matches","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-quick-filter","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":256,"role":{"Fn::GetAtt":["govbizaiquickfilterServiceRole6DCBE038","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":10,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaiquickfilterSecurityGroup391EBF44","GroupId"]}]}}}}}},"govbizai-match-orchestrator":{"id":"govbizai-match-orchestrator","path":"TestInfrastructureStack/govbizai-match-orchestrator","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-match-orchestrator/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-match-orchestrator/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-match-orchestrator/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-match-orchestrator/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-match-orchestrator/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiembeddings9C1E2D0C","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiopportunities87C89AB3","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicompaniesEF47080E","Arn"]},"/index/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:ReEncrypt*","kms:GenerateDataKey*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaiencryptionkeyC77D74E4","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaimatches22EB0E45","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaimatchcache4369A744","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaisemanticsimilarityDB6B985A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaisemanticsimilarityDB6B985A","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaikeywordmatching0DEC26F4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaikeywordmatching0DEC26F4","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizainaicsalignmentE3D11B46","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizainaicsalignmentE3D11B46","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaipastperformance68675781","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaipastperformance68675781","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicertificationbonus21E6EE86","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicertificationbonus21E6EE86","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaigeographicmatch5E81C651","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaigeographicmatch5E81C651","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaicapacityfitF94A514F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaicapacityfitF94A514F","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizairecencyfactor6CD38D36","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizairecencyfactor6CD38D36","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiquickfilterEB9D4EF7","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiquickfilterEB9D4EF7","Arn"]},":*"]]}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaibatchmatchingqueue2199B9CE","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaibatchmatchingqueue2199B9CE","Arn"]}}],"Version":"2012-10-17"},"policyName":"govbizaimatchorchestratorServiceRoleDefaultPolicy8DA9333D","roles":[{"Ref":"govbizaimatchorchestratorServiceRoleCC64E38B"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-match-orchestrator/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-match-orchestrator/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-match-orchestrator/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"TestInfrastructureStack/govbizai-match-orchestrator/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-match-orchestrator/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function TestInfrastructureStackgovbizaimatchorchestrator7DAD44A4","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"vpcId":{"Ref":"govbizaivpcC82B5B04"}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-match-orchestrator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"a5813d14706184db71a6577bfe44aced2fae14e36d24af15154aeae45d4b55f7.zip"},"description":"Main orchestrator coordinating all matching components","environment":{"variables":{"EMBEDDINGS_BUCKET":{"Ref":"govbizaiembeddings9C1E2D0C"},"OPPORTUNITIES_TABLE":{"Ref":"govbizaiopportunities87C89AB3"},"COMPANIES_TABLE":{"Ref":"govbizaicompaniesEF47080E"},"MATCHES_TABLE":{"Ref":"govbizaimatches22EB0E45"},"CACHE_TABLE":{"Ref":"govbizaimatchcache4369A744"}}},"functionName":"govbizai-match-orchestrator","handler":"handler.lambda_handler","layers":[{"Ref":"govbizaimatchingenginelayer6D9F158E"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaimatchorchestratorServiceRoleCC64E38B","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":120,"vpcConfig":{"subnetIds":[{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet1Subnet22BEE1F8"},{"Ref":"govbizaivpcgovbizaiprivatesubnetSubnet2Subnet5E86CC4D"}],"securityGroupIds":[{"Fn::GetAtt":["govbizaimatchorchestratorSecurityGroup7F8F2E86","GroupId"]}]}}}}}},"govbizai-batch-matching-dlq":{"id":"govbizai-batch-matching-dlq","path":"TestInfrastructureStack/govbizai-batch-matching-dlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-matching-dlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"govbizai-batch-matching-dlq","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-batch-matching-queue":{"id":"govbizai-batch-matching-queue","path":"TestInfrastructureStack/govbizai-batch-matching-queue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-matching-queue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"govbizai-batch-matching-queue","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["govbizaibatchmatchingdlqB25C2077","Arn"]},"maxReceiveCount":3},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"visibilityTimeout":300}}}}},"govbizai-matching-api":{"id":"govbizai-matching-api","path":"TestInfrastructureStack/govbizai-matching-api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for opportunity matching operations","name":"govbizai-matching-api","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"TestInfrastructureStack/govbizai-matching-api/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"TestInfrastructureStack/govbizai-matching-api/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"Account":{"id":"Account","path":"TestInfrastructureStack/govbizai-matching-api/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["govbizaimatchingapiCloudWatchRole6D42C8B6","Arn"]}}}},"Deployment":{"id":"Deployment","path":"TestInfrastructureStack/govbizai-matching-api/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for opportunity matching operations","restApiId":{"Ref":"govbizaimatchingapi6A20D473"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"TestInfrastructureStack/govbizai-matching-api/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"govbizaimatchingapiDeployment3DF773EA12fd9a6498af447c4714644ad959da5c"},"restApiId":{"Ref":"govbizaimatchingapi6A20D473"},"stageName":"prod","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"Endpoint":{"id":"Endpoint","path":"TestInfrastructureStack/govbizai-matching-api/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"TestInfrastructureStack/govbizai-matching-api/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-matching-api/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["govbizaimatchingapi6A20D473","RootResourceId"]},"restApiId":{"Ref":"govbizaimatchingapi6A20D473"}}}}}},"match":{"id":"match","path":"TestInfrastructureStack/govbizai-matching-api/Default/match","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/Default/match/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["govbizaimatchingapi6A20D473","RootResourceId"]},"pathPart":"match","restApiId":{"Ref":"govbizaimatchingapi6A20D473"}}}},"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-matching-api/Default/match/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/Default/match/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"govbizaimatchingapimatch91443665"},"restApiId":{"Ref":"govbizaimatchingapi6A20D473"}}}}}},"POST":{"id":"POST","path":"TestInfrastructureStack/govbizai-matching-api/Default/match/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaimatchingapiE33BF68C.POST..match":{"id":"ApiPermission.TestInfrastructureStackgovbizaimatchingapiE33BF68C.POST..match","path":"TestInfrastructureStack/govbizai-matching-api/Default/match/POST/ApiPermission.TestInfrastructureStackgovbizaimatchingapiE33BF68C.POST..match","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaimatchorchestratorC15BB73B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaimatchingapi6A20D473"},"/",{"Ref":"govbizaimatchingapiDeploymentStageprodF1E7177F"},"/POST/match"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaimatchingapiE33BF68C.POST..match":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaimatchingapiE33BF68C.POST..match","path":"TestInfrastructureStack/govbizai-matching-api/Default/match/POST/ApiPermission.Test.TestInfrastructureStackgovbizaimatchingapiE33BF68C.POST..match","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaimatchorchestratorC15BB73B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaimatchingapi6A20D473"},"/test-invoke-stage/POST/match"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api/Default/match/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"govbizaimatchingauthorizer90696A09"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaimatchorchestratorC15BB73B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaimatchingapimatch91443665"},"restApiId":{"Ref":"govbizaimatchingapi6A20D473"}}}}}}}}}}}},"govbizai-matching-authorizer":{"id":"govbizai-matching-authorizer","path":"TestInfrastructureStack/govbizai-matching-authorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-authorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"TestInfrastructureStackgovbizaimatchingauthorizer89627D1A","providerArns":[{"Fn::GetAtt":["govbizaiuserpool36C7E10A","Arn"]}],"restApiId":{"Ref":"govbizaimatchingapi6A20D473"},"type":"COGNITO_USER_POOLS"}}}}},"govbizai-matching-api-key":{"id":"govbizai-matching-api-key","path":"TestInfrastructureStack/govbizai-matching-api-key","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ApiKey","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-api-key/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnApiKey","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::ApiKey","aws:cdk:cloudformation:props":{"description":"API key for GovBizAI matching engine","enabled":true,"name":"govbizai-matching-api-key","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-matching-usage-plan":{"id":"govbizai-matching-usage-plan","path":"TestInfrastructureStack/govbizai-matching-usage-plan","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.UsagePlan","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-matching-usage-plan/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlan","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlan","aws:cdk:cloudformation:props":{"apiStages":[{"apiId":{"Ref":"govbizaimatchingapi6A20D473"},"stage":{"Ref":"govbizaimatchingapiDeploymentStageprodF1E7177F"},"throttle":{}}],"description":"Usage plan for GovBizAI matching API","quota":{"limit":10000,"period":"MONTH"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"throttle":{"burstLimit":200,"rateLimit":100},"usagePlanName":"govbizai-matching-usage-plan"}}},"UsagePlanKeyResource:TestInfrastructureStackgovbizaimatchingapikey1F4574B9":{"id":"UsagePlanKeyResource:TestInfrastructureStackgovbizaimatchingapikey1F4574B9","path":"TestInfrastructureStack/govbizai-matching-usage-plan/UsagePlanKeyResource:TestInfrastructureStackgovbizaimatchingapikey1F4574B9","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlanKey","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlanKey","aws:cdk:cloudformation:props":{"keyId":{"Ref":"govbizaimatchingapikey48DB3AFB"},"keyType":"API_KEY","usagePlanId":{"Ref":"govbizaimatchingusageplanC69309D3"}}}}}},"SemanticSimilarityFunctionArn":{"id":"SemanticSimilarityFunctionArn","path":"TestInfrastructureStack/SemanticSimilarityFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"KeywordMatchingFunctionArn":{"id":"KeywordMatchingFunctionArn","path":"TestInfrastructureStack/KeywordMatchingFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"NAICSAlignmentFunctionArn":{"id":"NAICSAlignmentFunctionArn","path":"TestInfrastructureStack/NAICSAlignmentFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"PastPerformanceFunctionArn":{"id":"PastPerformanceFunctionArn","path":"TestInfrastructureStack/PastPerformanceFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CertificationBonusFunctionArn":{"id":"CertificationBonusFunctionArn","path":"TestInfrastructureStack/CertificationBonusFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"GeographicMatchFunctionArn":{"id":"GeographicMatchFunctionArn","path":"TestInfrastructureStack/GeographicMatchFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CapacityFitFunctionArn":{"id":"CapacityFitFunctionArn","path":"TestInfrastructureStack/CapacityFitFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"RecencyFactorFunctionArn":{"id":"RecencyFactorFunctionArn","path":"TestInfrastructureStack/RecencyFactorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"QuickFilterFunctionArn":{"id":"QuickFilterFunctionArn","path":"TestInfrastructureStack/QuickFilterFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"MatchOrchestratorFunctionArn":{"id":"MatchOrchestratorFunctionArn","path":"TestInfrastructureStack/MatchOrchestratorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"MatchingEngineLayerArn":{"id":"MatchingEngineLayerArn","path":"TestInfrastructureStack/MatchingEngineLayerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"MatchCacheTableName":{"id":"MatchCacheTableName","path":"TestInfrastructureStack/MatchCacheTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BatchMatchingQueueUrl":{"id":"BatchMatchingQueueUrl","path":"TestInfrastructureStack/BatchMatchingQueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"MatchingApiEndpoint":{"id":"MatchingApiEndpoint","path":"TestInfrastructureStack/MatchingApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"MatchingApiKey":{"id":"MatchingApiKey","path":"TestInfrastructureStack/MatchingApiKey","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"govbizai-batch-coordination":{"id":"govbizai-batch-coordination","path":"TestInfrastructureStack/govbizai-batch-coordination","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-coordination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"coordination_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"coordination_id","keyType":"HASH"}],"sseSpecification":{"sseEnabled":true},"tableName":"govbizai-batch-coordination","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-batch-coordination/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-progress-tracking":{"id":"govbizai-progress-tracking","path":"TestInfrastructureStack/govbizai-progress-tracking","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-progress-tracking/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"coordination_id","attributeType":"S"},{"attributeName":"batch_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"coordination_id","keyType":"HASH"},{"attributeName":"batch_id","keyType":"RANGE"}],"sseSpecification":{"sseEnabled":true},"tableName":"govbizai-progress-tracking","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-progress-tracking/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-batch-optimization-history":{"id":"govbizai-batch-optimization-history","path":"TestInfrastructureStack/govbizai-batch-optimization-history","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-optimization-history/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"processing_type","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"processing_type","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"sseSpecification":{"sseEnabled":true},"tableName":"govbizai-batch-optimization-history","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-batch-optimization-history/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-schedule-management":{"id":"govbizai-schedule-management","path":"TestInfrastructureStack/govbizai-schedule-management","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schedule-management/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"schedule_name","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"schedule_name","keyType":"HASH"}],"sseSpecification":{"sseEnabled":true},"tableName":"govbizai-schedule-management","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"TestInfrastructureStack/govbizai-schedule-management/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"govbizai-batch-coordination-dlq":{"id":"govbizai-batch-coordination-dlq","path":"TestInfrastructureStack/govbizai-batch-coordination-dlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-coordination-dlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"fifoQueue":true,"queueName":"govbizai-batch-coordination-dlq.fifo","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-batch-coordination-queue":{"id":"govbizai-batch-coordination-queue","path":"TestInfrastructureStack/govbizai-batch-coordination-queue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-coordination-queue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"contentBasedDeduplication":true,"fifoQueue":true,"messageRetentionPeriod":1209600,"queueName":"govbizai-batch-coordination-queue.fifo","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["govbizaibatchcoordinationdlq94776801","Arn"]},"maxReceiveCount":3},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"visibilityTimeout":900}}}}},"govbizai-batch-orchestration-layer":{"id":"govbizai-batch-orchestration-layer","path":"TestInfrastructureStack/govbizai-batch-orchestration-layer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.211.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-batch-orchestration-layer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-batch-orchestration-layer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-batch-orchestration-layer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-layer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"931eee9b7146122ab73afb70280c3c538cbf352bde154d7b544dec1d325240ff.zip"},"description":"Batch orchestration dependencies including boto3, CloudWatch metrics, etc.","layerName":"govbizai-batch-orchestration-layer"}}}}},"govbizai-batch-optimizer-function":{"id":"govbizai-batch-optimizer-function","path":"TestInfrastructureStack/govbizai-batch-optimizer-function","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaibatchcoordination6E6DAA30","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaibatchoptimizationhistoryD86040AB","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["cloudwatch:GetMetricStatistics","cloudwatch:PutMetricData","logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaibatchoptimizerfunctionServiceRoleDefaultPolicy7C0F422F","roles":[{"Ref":"govbizaibatchoptimizerfunctionServiceRoleC08D4F4D"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-optimizer-function/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"65c4056b2c25387655d9580a1fe4e31a78754ab009588fc71a1c2d7b32e265fe.zip"},"description":"Optimizes batch sizes based on performance metrics and system constraints","environment":{"variables":{"COORDINATION_TABLE":{"Ref":"govbizaibatchcoordination6E6DAA30"},"PROGRESS_TABLE":{"Ref":"govbizaiprogresstrackingCE98B3BF"},"OPTIMIZATION_TABLE":{"Ref":"govbizaibatchoptimizationhistoryD86040AB"},"SCHEDULE_TABLE":{"Ref":"govbizaischedulemanagementE696443A"},"COORDINATION_QUEUE_URL":{"Ref":"govbizaibatchcoordinationqueueBCD854C6"}}},"functionName":"govbizai-batch-optimizer-function","handler":"batch_optimizer.lambda_handler","layers":[{"Ref":"govbizaibatchorchestrationlayer389F2B23"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaibatchoptimizerfunctionServiceRoleC08D4F4D","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900}}}}},"govbizai-batch-coordinator-function":{"id":"govbizai-batch-coordinator-function","path":"TestInfrastructureStack/govbizai-batch-coordinator-function","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaibatchcoordination6E6DAA30","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprogresstrackingCE98B3BF","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaibatchcoordinationqueueBCD854C6","Arn"]}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["govbizaibatchcoordinationqueueBCD854C6","Arn"]}}],"Version":"2012-10-17"},"policyName":"govbizaibatchcoordinatorfunctionServiceRoleDefaultPolicy64065E64","roles":[{"Ref":"govbizaibatchcoordinatorfunctionServiceRole5A25ACBA"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-coordinator-function/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"86053fc5323dcc104fade57dce79e15d505a09d2914975fe0695a7605c74ea8b.zip"},"description":"Coordinates parallel batch processing with intelligent distribution","environment":{"variables":{"COORDINATION_TABLE":{"Ref":"govbizaibatchcoordination6E6DAA30"},"PROGRESS_TABLE":{"Ref":"govbizaiprogresstrackingCE98B3BF"},"OPTIMIZATION_TABLE":{"Ref":"govbizaibatchoptimizationhistoryD86040AB"},"SCHEDULE_TABLE":{"Ref":"govbizaischedulemanagementE696443A"},"COORDINATION_QUEUE_URL":{"Ref":"govbizaibatchcoordinationqueueBCD854C6"}}},"functionName":"govbizai-batch-coordinator-function","handler":"batch_coordinator.lambda_handler","layers":[{"Ref":"govbizaibatchorchestrationlayer389F2B23"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaibatchcoordinatorfunctionServiceRole5A25ACBA","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900}}}}},"govbizai-progress-tracker-function":{"id":"govbizai-progress-tracker-function","path":"TestInfrastructureStack/govbizai-progress-tracker-function","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-progress-tracker-function/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-progress-tracker-function/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-progress-tracker-function/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-progress-tracker-function/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-progress-tracker-function/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaibatchcoordination6E6DAA30","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprogresstrackingCE98B3BF","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["cloudwatch:PutMetricData","sns:Publish","logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaiprogresstrackerfunctionServiceRoleDefaultPolicyDAAA3D23","roles":[{"Ref":"govbizaiprogresstrackerfunctionServiceRole94B73BD9"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-progress-tracker-function/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-progress-tracker-function/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-progress-tracker-function/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-progress-tracker-function/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"f8a7ab98fbaff2c4df60ff5864d252f0a468c6f65e4de3c7fd21460b834aeea8.zip"},"description":"Tracks and reports real-time progress of batch processing operations","environment":{"variables":{"COORDINATION_TABLE":{"Ref":"govbizaibatchcoordination6E6DAA30"},"PROGRESS_TABLE":{"Ref":"govbizaiprogresstrackingCE98B3BF"},"OPTIMIZATION_TABLE":{"Ref":"govbizaibatchoptimizationhistoryD86040AB"},"SCHEDULE_TABLE":{"Ref":"govbizaischedulemanagementE696443A"},"COORDINATION_QUEUE_URL":{"Ref":"govbizaibatchcoordinationqueueBCD854C6"}}},"functionName":"govbizai-progress-tracker-function","handler":"progress_tracker.lambda_handler","layers":[{"Ref":"govbizaibatchorchestrationlayer389F2B23"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaiprogresstrackerfunctionServiceRole94B73BD9","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900}}}}},"govbizai-schedule-manager-function":{"id":"govbizai-schedule-manager-function","path":"TestInfrastructureStack/govbizai-schedule-manager-function","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"TestInfrastructureStack/govbizai-schedule-manager-function/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"TestInfrastructureStack/govbizai-schedule-manager-function/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schedule-manager-function/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-schedule-manager-function/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schedule-manager-function/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaischedulemanagementE696443A","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["events:PutRule","events:DeleteRule","events:DescribeRule","events:PutTargets","events:RemoveTargets","events:ListTargetsByRule","states:StartExecution","states:DescribeExecution"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaischedulemanagerfunctionServiceRoleDefaultPolicy3188A896","roles":[{"Ref":"govbizaischedulemanagerfunctionServiceRoleC6CF02C7"}]}}}}}}},"Code":{"id":"Code","path":"TestInfrastructureStack/govbizai-schedule-manager-function/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"TestInfrastructureStack/govbizai-schedule-manager-function/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"TestInfrastructureStack/govbizai-schedule-manager-function/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-schedule-manager-function/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"db479d6a766471569c53f805fc5d3192da44edbb985253b5962b496fc3811f65.zip"},"description":"Manages EventBridge schedules for batch processing operations","environment":{"variables":{"COORDINATION_TABLE":{"Ref":"govbizaibatchcoordination6E6DAA30"},"PROGRESS_TABLE":{"Ref":"govbizaiprogresstrackingCE98B3BF"},"OPTIMIZATION_TABLE":{"Ref":"govbizaibatchoptimizationhistoryD86040AB"},"SCHEDULE_TABLE":{"Ref":"govbizaischedulemanagementE696443A"},"COORDINATION_QUEUE_URL":{"Ref":"govbizaibatchcoordinationqueueBCD854C6"}}},"functionName":"govbizai-schedule-manager-function","handler":"schedule_manager.lambda_handler","layers":[{"Ref":"govbizaibatchorchestrationlayer389F2B23"}],"memorySize":1024,"role":{"Fn::GetAtt":["govbizaischedulemanagerfunctionServiceRoleC6CF02C7","Arn"]},"runtime":"python3.11","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"timeout":900}}}}},"Optimize Batch Size":{"id":"Optimize Batch Size","path":"TestInfrastructureStack/Optimize Batch Size","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"Coordinate Processing":{"id":"Coordinate Processing","path":"TestInfrastructureStack/Coordinate Processing","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"Track Progress":{"id":"Track Progress","path":"TestInfrastructureStack/Track Progress","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"Wait for Progress":{"id":"Wait for Progress","path":"TestInfrastructureStack/Wait for Progress","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Wait","version":"2.211.0"}},"Track Progress Loop":{"id":"Track Progress Loop","path":"TestInfrastructureStack/Track Progress Loop","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"Check Progress Status":{"id":"Check Progress Status","path":"TestInfrastructureStack/Check Progress Status","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Choice","version":"2.211.0"}},"Enhanced Processing Complete":{"id":"Enhanced Processing Complete","path":"TestInfrastructureStack/Enhanced Processing Complete","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Succeed","version":"2.211.0"}},"Enhanced Processing Failed":{"id":"Enhanced Processing Failed","path":"TestInfrastructureStack/Enhanced Processing Failed","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Fail","version":"2.211.0"}},"govbizai-enhanced-processing-logs":{"id":"govbizai-enhanced-processing-logs","path":"TestInfrastructureStack/govbizai-enhanced-processing-logs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-enhanced-processing-logs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/stepfunctions/govbizai-enhanced-processing-state-machine","retentionInDays":30,"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-enhanced-processing-state-machine":{"id":"govbizai-enhanced-processing-state-machine","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.211.0","metadata":[]},"children":{"Role":{"id":"Role","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaibatchoptimizerfunction6E4BA428","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaibatchoptimizerfunction6E4BA428","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaibatchcoordinatorfunction3A0B477D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaibatchcoordinatorfunction3A0B477D","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},":*"]]}]},{"Action":["logs:CreateLogDelivery","logs:GetLogDelivery","logs:UpdateLogDelivery","logs:DeleteLogDelivery","logs:ListLogDeliveries","logs:PutResourcePolicy","logs:DescribeResourcePolicies","logs:DescribeLogGroups"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"govbizaienhancedprocessingstatemachineRoleDefaultPolicyFEE62B88","roles":[{"Ref":"govbizaienhancedprocessingstatemachineRole49755F09"}]}}}}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"Optimize Batch Size\",\"States\":{\"Optimize Batch Size\":{\"Next\":\"Coordinate Processing\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.error\",\"Next\":\"Enhanced Processing Failed\"}],\"Type\":\"Task\",\"TimeoutSeconds\":300,\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["govbizaibatchoptimizerfunction6E4BA428","Arn"]},"\",\"Payload.$\":\"$\"}},\"Coordinate Processing\":{\"Next\":\"Track Progress\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.error\",\"Next\":\"Enhanced Processing Failed\"}],\"Type\":\"Task\",\"TimeoutSeconds\":600,\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["govbizaibatchcoordinatorfunction3A0B477D","Arn"]},"\",\"Payload.$\":\"$\"}},\"Track Progress\":{\"Next\":\"Wait for Progress\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.error\",\"Next\":\"Enhanced Processing Failed\"}],\"Type\":\"Task\",\"TimeoutSeconds\":120,\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"\",\"Payload.$\":\"$\"}},\"Wait for Progress\":{\"Type\":\"Wait\",\"Seconds\":60,\"Next\":\"Track Progress Loop\"},\"Track Progress Loop\":{\"Next\":\"Check Progress Status\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"TimeoutSeconds\":120,\"ResultPath\":\"$.progress\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"\",\"Payload.$\":\"$\"}},\"Check Progress Status\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.progress.is_complete\",\"StringEquals\":\"true\",\"Next\":\"Enhanced Processing Complete\"},{\"Variable\":\"$.progress.failed_batches\",\"NumericGreaterThan\":0,\"Next\":\"Enhanced Processing Failed\"}],\"Default\":\"Wait for Progress\"},\"Enhanced Processing Complete\":{\"Type\":\"Succeed\",\"Comment\":\"Enhanced batch processing completed successfully\"},\"Enhanced Processing Failed\":{\"Type\":\"Fail\",\"Comment\":\"Enhanced batch processing failed\"}},\"TimeoutSeconds\":14400}"]]},"loggingConfiguration":{"destinations":[{"cloudWatchLogsLogGroup":{"logGroupArn":{"Fn::GetAtt":["govbizaienhancedprocessinglogs87C4E77C","Arn"]}}}],"level":"ALL"},"roleArn":{"Fn::GetAtt":["govbizaienhancedprocessingstatemachineRole49755F09","Arn"]},"stateMachineName":"govbizai-enhanced-processing-state-machine","stateMachineType":"EXPRESS","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"EventsRole":{"id":"EventsRole","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/EventsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportEventsRole":{"id":"ImportEventsRole","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/EventsRole/ImportEventsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/EventsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/EventsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-enhanced-processing-state-machine/EventsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"govbizaienhancedprocessingstatemachine93FE10C0"}}],"Version":"2012-10-17"},"policyName":"govbizaienhancedprocessingstatemachineEventsRoleDefaultPolicyD7BF2D05","roles":[{"Ref":"govbizaienhancedprocessingstatemachineEventsRole84E26938"}]}}}}}}}}},"govbizai-enhanced-nightly-processing-rule":{"id":"govbizai-enhanced-nightly-processing-rule","path":"TestInfrastructureStack/govbizai-enhanced-nightly-processing-rule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-enhanced-nightly-processing-rule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Enhanced nightly processing with batch optimization at 2:00 AM EST","name":"govbizai-enhanced-nightly-processing-rule","scheduleExpression":"cron(0 7 * * ? *)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Ref":"govbizaienhancedprocessingstatemachine93FE10C0"},"roleArn":{"Fn::GetAtt":["govbizaienhancedprocessingstatemachineEventsRole84E26938","Arn"]},"input":"{\"processing_type\":\"nightly_batch\",\"enable_optimization\":true,\"enable_progress_tracking\":true}"}]}}}}},"govbizai-batch-orchestration-api":{"id":"govbizai-batch-orchestration-api","path":"TestInfrastructureStack/govbizai-batch-orchestration-api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for managing batch processing orchestration","name":"govbizai-batch-orchestration-api","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"Account":{"id":"Account","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["govbizaibatchorchestrationapiCloudWatchRoleAFD732D6","Arn"]}}}},"Deployment":{"id":"Deployment","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for managing batch processing orchestration","restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"govbizaibatchorchestrationapiDeployment7C57D11963be6093014c93febb052664f487e654"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"stageName":"prod","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"Endpoint":{"id":"Endpoint","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["govbizaibatchorchestrationapi784AFF7C","RootResourceId"]},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"batch":{"id":"batch","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["govbizaibatchorchestrationapi784AFF7C","RootResourceId"]},"pathPart":"batch","restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}},"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"govbizaibatchorchestrationapibatchB919BE43"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"optimizer":{"id":"optimizer","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"govbizaibatchorchestrationapibatchB919BE43"},"pathPart":"optimizer","restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}},"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"govbizaibatchorchestrationapibatchoptimizer22E4487C"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"POST":{"id":"POST","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.optimizer":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.optimizer","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer/POST/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.optimizer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaibatchoptimizerfunction6E4BA428","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/POST/batch/optimizer"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.optimizer":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.optimizer","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer/POST/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.optimizer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaibatchoptimizerfunction6E4BA428","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/POST/batch/optimizer"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/optimizer/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaibatchoptimizerfunction6E4BA428","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchoptimizer22E4487C"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}}}},"coordinator":{"id":"coordinator","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"govbizaibatchorchestrationapibatchB919BE43"},"pathPart":"coordinator","restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}},"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"govbizaibatchorchestrationapibatchcoordinatorAFE05993"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"POST":{"id":"POST","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.coordinator":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.coordinator","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator/POST/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.coordinator","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaibatchcoordinatorfunction3A0B477D","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/POST/batch/coordinator"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.coordinator":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.coordinator","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator/POST/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.coordinator","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaibatchcoordinatorfunction3A0B477D","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/POST/batch/coordinator"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/coordinator/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaibatchcoordinatorfunction3A0B477D","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchcoordinatorAFE05993"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}}}},"progress":{"id":"progress","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"govbizaibatchorchestrationapibatchB919BE43"},"pathPart":"progress","restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}},"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"govbizaibatchorchestrationapibatchprogressC3F2A572"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"GET":{"id":"GET","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.progress":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.progress","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/GET/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.progress","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/GET/batch/progress"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.progress":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.progress","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/GET/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.progress","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/GET/batch/progress"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchprogressC3F2A572"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"POST":{"id":"POST","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.progress":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.progress","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/POST/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.progress","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/POST/batch/progress"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.progress":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.progress","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/POST/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.progress","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/POST/batch/progress"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/progress/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaiprogresstrackerfunction971A3D14","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchprogressC3F2A572"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}}}},"schedule":{"id":"schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"govbizaibatchorchestrationapibatchB919BE43"},"pathPart":"schedule","restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}},"OPTIONS":{"id":"OPTIONS","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"govbizaibatchorchestrationapibatchschedule6814F40B"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"GET":{"id":"GET","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.schedule":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/GET/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/GET/batch/schedule"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.schedule":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/GET/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.GET..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/GET/batch/schedule"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchschedule6814F40B"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"POST":{"id":"POST","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.schedule":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/POST/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/POST/batch/schedule"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.schedule":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/POST/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.POST..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/POST/batch/schedule"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchschedule6814F40B"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"PUT":{"id":"PUT","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.PUT..batch.schedule":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.PUT..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/PUT/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.PUT..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/PUT/batch/schedule"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.PUT..batch.schedule":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.PUT..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/PUT/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.PUT..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/PUT/batch/schedule"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchschedule6814F40B"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}},"DELETE":{"id":"DELETE","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.DELETE..batch.schedule":{"id":"ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.DELETE..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/DELETE/ApiPermission.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.DELETE..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/",{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"/DELETE/batch/schedule"]]}}}},"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.DELETE..batch.schedule":{"id":"ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.DELETE..batch.schedule","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/DELETE/ApiPermission.Test.TestInfrastructureStackgovbizaibatchorchestrationapiE83D08E1.DELETE..batch.schedule","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"/test-invoke-stage/DELETE/batch/schedule"]]}}}},"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/Default/batch/schedule/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["govbizaischedulemanagerfunction1E885BCC","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"govbizaibatchorchestrationapibatchschedule6814F40B"},"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"}}}}}}}}}}}},"govbizai-batch-api-key":{"id":"govbizai-batch-api-key","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/govbizai-batch-api-key","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ApiKey","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/govbizai-batch-api-key/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnApiKey","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::ApiKey","aws:cdk:cloudformation:props":{"description":"API Key for GovBizAI Batch Orchestration API","enabled":true,"name":"govbizai-batch-api-key","stageKeys":[{"restApiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"stageName":{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"}}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}]}}}}},"govbizai-batch-usage-plan":{"id":"govbizai-batch-usage-plan","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/govbizai-batch-usage-plan","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.UsagePlan","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/govbizai-batch-usage-plan/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlan","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlan","aws:cdk:cloudformation:props":{"apiStages":[{"apiId":{"Ref":"govbizaibatchorchestrationapi784AFF7C"},"stage":{"Ref":"govbizaibatchorchestrationapiDeploymentStageprod5243BDFD"},"throttle":{}}],"description":"Usage plan for GovBizAI Batch Orchestration API","quota":{"limit":10000,"period":"DAY"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"govbizai"}],"throttle":{"burstLimit":2000,"rateLimit":1000},"usagePlanName":"govbizai-batch-usage-plan"}}},"UsagePlanKeyResource:TestInfrastructureStackgovbizaibatchorchestrationapigovbizaibatchapikey83419E98":{"id":"UsagePlanKeyResource:TestInfrastructureStackgovbizaibatchorchestrationapigovbizaibatchapikey83419E98","path":"TestInfrastructureStack/govbizai-batch-orchestration-api/govbizai-batch-usage-plan/UsagePlanKeyResource:TestInfrastructureStackgovbizaibatchorchestrationapigovbizaibatchapikey83419E98","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlanKey","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlanKey","aws:cdk:cloudformation:props":{"keyId":{"Ref":"govbizaibatchorchestrationapigovbizaibatchapikeyC78132A4"},"keyType":"API_KEY","usagePlanId":{"Ref":"govbizaibatchorchestrationapigovbizaibatchusageplanAB250BA0"}}}}}}}},"BatchOptimizerFunctionArn":{"id":"BatchOptimizerFunctionArn","path":"TestInfrastructureStack/BatchOptimizerFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BatchCoordinatorFunctionArn":{"id":"BatchCoordinatorFunctionArn","path":"TestInfrastructureStack/BatchCoordinatorFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ProgressTrackerFunctionArn":{"id":"ProgressTrackerFunctionArn","path":"TestInfrastructureStack/ProgressTrackerFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ScheduleManagerFunctionArn":{"id":"ScheduleManagerFunctionArn","path":"TestInfrastructureStack/ScheduleManagerFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"EnhancedProcessingStateMachineArn":{"id":"EnhancedProcessingStateMachineArn","path":"TestInfrastructureStack/EnhancedProcessingStateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BatchCoordinationQueueUrl":{"id":"BatchCoordinationQueueUrl","path":"TestInfrastructureStack/BatchCoordinationQueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BatchOrchestrationApiEndpoint":{"id":"BatchOrchestrationApiEndpoint","path":"TestInfrastructureStack/BatchOrchestrationApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BatchOrchestrationApiKey":{"id":"BatchOrchestrationApiKey","path":"TestInfrastructureStack/BatchOrchestrationApiKey","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"TestInfrastructureStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"TestInfrastructureStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}